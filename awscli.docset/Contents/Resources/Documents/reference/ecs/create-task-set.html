<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-task-set — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="ecs" href="index.html">
    <link rel="next" title="delete-account-setting" href="delete-account-setting.html">
    <link rel="prev" title="create-service" href="create-service.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-task-set">
<span id="cli-aws-ecs-create-task-set"></span><h1>create-task-set<a class="headerlink" href="#create-task-set" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Create a task set in the specified cluster and service. This is used when a service uses the <tt class="docutils literal"><span class="pre">EXTERNAL</span></tt> deployment controller type. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/deployment-types.html">Amazon ECS Deployment Types</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/ecs-2014-11-13/CreateTaskSet">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-task-set
--service &lt;value&gt;
--cluster &lt;value&gt;
[--external-id &lt;value&gt;]
--task-definition &lt;value&gt;
[--network-configuration &lt;value&gt;]
[--load-balancers &lt;value&gt;]
[--service-registries &lt;value&gt;]
[--launch-type &lt;value&gt;]
[--capacity-provider-strategy &lt;value&gt;]
[--platform-version &lt;value&gt;]
[--scale &lt;value&gt;]
[--client-token &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--service</span></tt> (string)</p>
<blockquote>
<div>The short name or full Amazon Resource Name (ARN) of the service to create the task set in.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--cluster</span></tt> (string)</p>
<blockquote>
<div>The short name or full Amazon Resource Name (ARN) of the cluster that hosts the service to create the task set in.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--external-id</span></tt> (string)</p>
<blockquote>
<div>An optional non-unique tag that identifies this task set in external systems. If the task set is associated with a service discovery registry, the tasks in this task set will have the <tt class="docutils literal"><span class="pre">ECS_TASK_SET_EXTERNAL_ID</span></tt> AWS Cloud Map attribute set to the provided value.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--task-definition</span></tt> (string)</p>
<blockquote>
<div>The task definition for the tasks in the task set to use.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--network-configuration</span></tt> (structure)</p>
<blockquote>
<div>An object representing the network configuration for a task or service.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>awsvpcConfiguration={subnets=[string,string],securityGroups=[string,string],assignPublicIp=string}</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"awsvpcConfiguration"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"subnets"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"string"</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">"securityGroups"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"string"</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">"assignPublicIp"</span><span class="p">:</span> <span class="s2">"ENABLED"</span><span class="o">|</span><span class="s2">"DISABLED"</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--load-balancers</span></tt> (list)</p>
<blockquote>
<div>A load balancer object representing the load balancer to use with the task set. The supported load balancer types are either an Application Load Balancer or a Network Load Balancer.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>targetGroupArn=string,loadBalancerName=string,containerName=string,containerPort=integer ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "targetGroupArn": "string",
    "loadBalancerName": "string",
    "containerName": "string",
    "containerPort": integer
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--service-registries</span></tt> (list)</p>
<blockquote>
<div>The details of the service discovery registries to assign to this task set. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-discovery.html">Service Discovery</a> .</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>registryArn=string,port=integer,containerName=string,containerPort=integer ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "registryArn": "string",
    "port": integer,
    "containerName": "string",
    "containerPort": integer
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--launch-type</span></tt> (string)</p>
<blockquote>
<div>
<p>The launch type that new tasks in the task set will use. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html">Amazon ECS Launch Types</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</p>
<p>If a <tt class="docutils literal"><span class="pre">launchType</span></tt> is specified, the <tt class="docutils literal"><span class="pre">capacityProviderStrategy</span></tt> parameter must be omitted.</p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">EC2</span></tt></li>
<li><tt class="docutils literal"><span class="pre">FARGATE</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--capacity-provider-strategy</span></tt> (list)</p>
<blockquote>
<div>
<p>The capacity provider strategy to use for the task set.</p>
<p>A capacity provider strategy consists of one or more capacity providers along with the <tt class="docutils literal"><span class="pre">base</span></tt> and <tt class="docutils literal"><span class="pre">weight</span></tt> to assign to them. A capacity provider must be associated with the cluster to be used in a capacity provider strategy. The  PutClusterCapacityProviders API is used to associate a capacity provider with a cluster. Only capacity providers with an <tt class="docutils literal"><span class="pre">ACTIVE</span></tt> or <tt class="docutils literal"><span class="pre">UPDATING</span></tt> status can be used.</p>
<p>If a <tt class="docutils literal"><span class="pre">capacityProviderStrategy</span></tt> is specified, the <tt class="docutils literal"><span class="pre">launchType</span></tt> parameter must be omitted. If no <tt class="docutils literal"><span class="pre">capacityProviderStrategy</span></tt> or <tt class="docutils literal"><span class="pre">launchType</span></tt> is specified, the <tt class="docutils literal"><span class="pre">defaultCapacityProviderStrategy</span></tt> for the cluster is used.</p>
<p>If specifying a capacity provider that uses an Auto Scaling group, the capacity provider must already be created. New capacity providers can be created with the  CreateCapacityProvider API operation.</p>
<p>To use a AWS Fargate capacity provider, specify either the <tt class="docutils literal"><span class="pre">FARGATE</span></tt> or <tt class="docutils literal"><span class="pre">FARGATE_SPOT</span></tt> capacity providers. The AWS Fargate capacity providers are available to all accounts and only need to be associated with a cluster to be used.</p>
<p>The  PutClusterCapacityProviders API operation is used to update the list of available capacity providers for a cluster after the cluster is created.</p>
</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>capacityProvider=string,weight=integer,base=integer ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "capacityProvider": "string",
    "weight": integer,
    "base": integer
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--platform-version</span></tt> (string)</p>
<blockquote>
<div>The platform version that the tasks in the task set should use. A platform version is specified only for tasks using the Fargate launch type. If one isn't specified, the <tt class="docutils literal"><span class="pre">LATEST</span></tt> platform version is used by default.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--scale</span></tt> (structure)</p>
<blockquote>
<div>A floating-point percentage of the desired number of tasks to place and keep running in the task set.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">value</span><span class="o">=</span><span class="n">double</span><span class="p">,</span><span class="n">unit</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"value"</span><span class="p">:</span> <span class="n">double</span><span class="p">,</span>
  <span class="s2">"unit"</span><span class="p">:</span> <span class="s2">"PERCENT"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--client-token</span></tt> (string)</p>
<blockquote>
<div>Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. Up to 32 ASCII characters are allowed.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>To create a task set</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">create-task-set</span></tt> example creates a task set in a service that uses an external deployment controller.</p>
<div class="highlight-python">
<pre>aws ecs create-task-set \
    --cluster MyCluster \
    --service MyService \
    --task-definition MyTaskDefinition:2 \
    --network-configuration "awsvpcConfiguration={subnets=[subnet-12344321],securityGroups=[sg-12344321]}"</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"taskSet"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"ecs-svc/1234567890123456789"</span><span class="p">,</span>
        <span class="s2">"taskSetArn"</span><span class="p">:</span> <span class="s2">"arn:aws:ecs:us-west-2:123456789012:task-set/MyCluster/MyService/ecs-svc/1234567890123456789"</span><span class="p">,</span>
        <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ACTIVE"</span><span class="p">,</span>
        <span class="s2">"taskDefinition"</span><span class="p">:</span> <span class="s2">"arn:aws:ecs:us-west-2:123456789012:task-definition/MyTaskDefinition:2"</span><span class="p">,</span>
        <span class="s2">"computedDesiredCount"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"pendingCount"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"runningCount"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"createdAt"</span><span class="p">:</span> <span class="mf">1557128360.711</span><span class="p">,</span>
        <span class="s2">"updatedAt"</span><span class="p">:</span> <span class="mf">1557128360.711</span><span class="p">,</span>
        <span class="s2">"launchType"</span><span class="p">:</span> <span class="s2">"EC2"</span><span class="p">,</span>
        <span class="s2">"networkConfiguration"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"awsvpcConfiguration"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"subnets"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"subnet-12344321"</span>
                <span class="p">],</span>
                <span class="s2">"securityGroups"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"sg-12344321"</span>
                <span class="p">],</span>
                <span class="s2">"assignPublicIp"</span><span class="p">:</span> <span class="s2">"DISABLED"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">"loadBalancers"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"serviceRegistries"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"scale"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"value"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
            <span class="s2">"unit"</span><span class="p">:</span> <span class="s2">"PERCENT"</span>
        <span class="p">},</span>
        <span class="s2">"stabilityStatus"</span><span class="p">:</span> <span class="s2">"STABILIZING"</span><span class="p">,</span>
        <span class="s2">"stabilityStatusAt"</span><span class="p">:</span> <span class="mf">1557128360.711</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>taskSet -&gt; (structure)</p>
<blockquote>
<div>
<p>Information about a set of Amazon ECS tasks in either an AWS CodeDeploy or an <tt class="docutils literal"><span class="pre">EXTERNAL</span></tt> deployment. An Amazon ECS task set includes details such as the desired number of tasks, how many tasks are running, and whether the task set serves production traffic.</p>
<p>id -&gt; (string)</p>
<blockquote>
<div>The ID of the task set.</div>
</blockquote>
<p>taskSetArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the task set.</div>
</blockquote>
<p>serviceArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the service the task set exists in.</div>
</blockquote>
<p>clusterArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the cluster that the service that hosts the task set exists in.</div>
</blockquote>
<p>startedBy -&gt; (string)</p>
<blockquote>
<div>The tag specified when a task set is started. If the task set is created by an AWS CodeDeploy deployment, the <tt class="docutils literal"><span class="pre">startedBy</span></tt> parameter is <tt class="docutils literal"><span class="pre">CODE_DEPLOY</span></tt> . For a task set created for an external deployment, the startedBy field isn't used.</div>
</blockquote>
<p>externalId -&gt; (string)</p>
<blockquote>
<div>
<p>The external ID associated with the task set.</p>
<p>If a task set is created by an AWS CodeDeploy deployment, the <tt class="docutils literal"><span class="pre">externalId</span></tt> parameter contains the AWS CodeDeploy deployment ID.</p>
<p>If a task set is created for an external deployment and is associated with a service discovery registry, the <tt class="docutils literal"><span class="pre">externalId</span></tt> parameter contains the <tt class="docutils literal"><span class="pre">ECS_TASK_SET_EXTERNAL_ID</span></tt> AWS Cloud Map attribute.</p>
</div>
</blockquote>
<p>status -&gt; (string)</p>
<blockquote>
<div>
<p>The status of the task set. The following describes each state:</p>
<blockquote>
<div>PRIMARY</div>
</blockquote>
<p>The task set is serving production traffic.</p>
<blockquote>
<div>ACTIVE</div>
</blockquote>
<p>The task set is not serving production traffic.</p>
<blockquote>
<div>DRAINING</div>
</blockquote>
<p>The tasks in the task set are being stopped and their corresponding targets are being deregistered from their target group.</p>
</div>
</blockquote>
<p>taskDefinition -&gt; (string)</p>
<blockquote>
<div>The task definition the task set is using.</div>
</blockquote>
<p>computedDesiredCount -&gt; (integer)</p>
<blockquote>
<div>The computed desired count for the task set. This is calculated by multiplying the service's <tt class="docutils literal"><span class="pre">desiredCount</span></tt> by the task set's <tt class="docutils literal"><span class="pre">scale</span></tt> percentage. The result is always rounded up. For example, if the computed desired count is 1.2, it rounds up to 2 tasks.</div>
</blockquote>
<p>pendingCount -&gt; (integer)</p>
<blockquote>
<div>The number of tasks in the task set that are in the <tt class="docutils literal"><span class="pre">PENDING</span></tt> status during a deployment. A task in the <tt class="docutils literal"><span class="pre">PENDING</span></tt> state is preparing to enter the <tt class="docutils literal"><span class="pre">RUNNING</span></tt> state. A task set enters the <tt class="docutils literal"><span class="pre">PENDING</span></tt> status when it launches for the first time or when it is restarted after being in the <tt class="docutils literal"><span class="pre">STOPPED</span></tt> state.</div>
</blockquote>
<p>runningCount -&gt; (integer)</p>
<blockquote>
<div>The number of tasks in the task set that are in the <tt class="docutils literal"><span class="pre">RUNNING</span></tt> status during a deployment. A task in the <tt class="docutils literal"><span class="pre">RUNNING</span></tt> state is running and ready for use.</div>
</blockquote>
<p>createdAt -&gt; (timestamp)</p>
<blockquote>
<div>The Unix timestamp for when the task set was created.</div>
</blockquote>
<p>updatedAt -&gt; (timestamp)</p>
<blockquote>
<div>The Unix timestamp for when the task set was last updated.</div>
</blockquote>
<p>launchType -&gt; (string)</p>
<blockquote>
<div>The launch type the tasks in the task set are using. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html">Amazon ECS Launch Types</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</div>
</blockquote>
<p>capacityProviderStrategy -&gt; (list)</p>
<blockquote>
<div>
<p>The capacity provider strategy associated with the task set.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>The details of a capacity provider strategy.</p>
<p>capacityProvider -&gt; (string)</p>
<blockquote>
<div>The short name or full Amazon Resource Name (ARN) of the capacity provider.</div>
</blockquote>
<p>weight -&gt; (integer)</p>
<blockquote>
<div>
<p>The <em>weight</em> value designates the relative percentage of the total number of tasks launched that should use the specified capacity provider.</p>
<p>For example, if you have a strategy that contains two capacity providers and both have a weight of <tt class="docutils literal"><span class="pre">1</span></tt> , then when the <tt class="docutils literal"><span class="pre">base</span></tt> is satisfied, the tasks will be split evenly across the two capacity providers. Using that same logic, if you specify a weight of <tt class="docutils literal"><span class="pre">1</span></tt> for <em>capacityProviderA</em> and a weight of <tt class="docutils literal"><span class="pre">4</span></tt> for <em>capacityProviderB</em> , then for every one task that is run using <em>capacityProviderA</em> , four tasks would use <em>capacityProviderB</em> .</p>
</div>
</blockquote>
<p>base -&gt; (integer)</p>
<blockquote>
<div>The <em>base</em> value designates how many tasks, at a minimum, to run on the specified capacity provider. Only one capacity provider in a capacity provider strategy can have a <em>base</em> defined.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>platformVersion -&gt; (string)</p>
<blockquote>
<div>The platform version on which the tasks in the task set are running. A platform version is only specified for tasks using the Fargate launch type. If one is not specified, the <tt class="docutils literal"><span class="pre">LATEST</span></tt> platform version is used by default. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/platform_versions.html">AWS Fargate Platform Versions</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</div>
</blockquote>
<p>networkConfiguration -&gt; (structure)</p>
<blockquote>
<div>
<p>The network configuration for the task set.</p>
<p>awsvpcConfiguration -&gt; (structure)</p>
<blockquote>
<div>
<p>The VPC subnets and security groups associated with a task.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All specified subnets and security groups must be from the same VPC.</p>
</div>
<p>subnets -&gt; (list)</p>
<blockquote>
<div>
<p>The subnets associated with the task or service. There is a limit of 16 subnets that can be specified per <tt class="docutils literal"><span class="pre">AwsVpcConfiguration</span></tt> .</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All specified subnets must be from the same VPC.</p>
</div>
<p>(string)</p>
</div>
</blockquote>
<p>securityGroups -&gt; (list)</p>
<blockquote>
<div>
<p>The security groups associated with the task or service. If you do not specify a security group, the default security group for the VPC is used. There is a limit of 5 security groups that can be specified per <tt class="docutils literal"><span class="pre">AwsVpcConfiguration</span></tt> .</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All specified security groups must be from the same VPC.</p>
</div>
<p>(string)</p>
</div>
</blockquote>
<p>assignPublicIp -&gt; (string)</p>
<blockquote>
<div>Whether the task's elastic network interface receives a public IP address. The default value is <tt class="docutils literal"><span class="pre">DISABLED</span></tt> .</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>loadBalancers -&gt; (list)</p>
<blockquote>
<div>
<p>Details on a load balancer that is used with a task set.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>Details on the load balancer or load balancers to use with a service or task set.</p>
<p>targetGroupArn -&gt; (string)</p>
<blockquote>
<div>
<p>The full Amazon Resource Name (ARN) of the Elastic Load Balancing target group or groups associated with a service or task set.</p>
<p>A target group ARN is only specified when using an Application Load Balancer or Network Load Balancer. If you are using a Classic Load Balancer this should be omitted.</p>
<p>For services using the <tt class="docutils literal"><span class="pre">ECS</span></tt> deployment controller, you can specify one or multiple target groups. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/register-multiple-targetgroups.html">Registering Multiple Target Groups with a Service</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</p>
<p>For services using the <tt class="docutils literal"><span class="pre">CODE_DEPLOY</span></tt> deployment controller, you are required to define two target groups for the load balancer. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/deployment-type-bluegreen.html">Blue/Green Deployment with CodeDeploy</a> in the <em>Amazon Elastic Container Service Developer Guide</em> .</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If your service's task definition uses the <tt class="docutils literal"><span class="pre">awsvpc</span></tt> network mode (which is required for the Fargate launch type), you must choose <tt class="docutils literal"><span class="pre">ip</span></tt> as the target type, not <tt class="docutils literal"><span class="pre">instance</span></tt> , when creating your target groups because tasks that use the <tt class="docutils literal"><span class="pre">awsvpc</span></tt> network mode are associated with an elastic network interface, not an Amazon EC2 instance.</p>
</div>
</div>
</blockquote>
<p>loadBalancerName -&gt; (string)</p>
<blockquote>
<div>
<p>The name of the load balancer to associate with the Amazon ECS service or task set.</p>
<p>A load balancer name is only specified when using a Classic Load Balancer. If you are using an Application Load Balancer or a Network Load Balancer this should be omitted.</p>
</div>
</blockquote>
<p>containerName -&gt; (string)</p>
<blockquote>
<div>The name of the container (as it appears in a container definition) to associate with the load balancer.</div>
</blockquote>
<p>containerPort -&gt; (integer)</p>
<blockquote>
<div>The port on the container to associate with the load balancer. This port must correspond to a <tt class="docutils literal"><span class="pre">containerPort</span></tt> in the task definition the tasks in the service are using. For tasks that use the EC2 launch type, the container instance they are launched on must allow ingress traffic on the <tt class="docutils literal"><span class="pre">hostPort</span></tt> of the port mapping.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>serviceRegistries -&gt; (list)</p>
<blockquote>
<div>
<p>The details of the service discovery registries to assign to this task set. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-discovery.html">Service Discovery</a> .</p>
<p>(structure)</p>
<blockquote>
<div>
<p>Details of the service registry.</p>
<p>registryArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the service registry. The currently supported service registry is AWS Cloud Map. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/cloud-map/latest/api/API_CreateService.html">CreateService</a> .</div>
</blockquote>
<p>port -&gt; (integer)</p>
<blockquote>
<div>The port value used if your service discovery service specified an SRV record. This field may be used if both the <tt class="docutils literal"><span class="pre">awsvpc</span></tt> network mode and SRV records are used.</div>
</blockquote>
<p>containerName -&gt; (string)</p>
<blockquote>
<div>The container name value, already specified in the task definition, to be used for your service discovery service. If the task definition that your service task specifies uses the <tt class="docutils literal"><span class="pre">bridge</span></tt> or <tt class="docutils literal"><span class="pre">host</span></tt> network mode, you must specify a <tt class="docutils literal"><span class="pre">containerName</span></tt> and <tt class="docutils literal"><span class="pre">containerPort</span></tt> combination from the task definition. If the task definition that your service task specifies uses the <tt class="docutils literal"><span class="pre">awsvpc</span></tt> network mode and a type SRV DNS record is used, you must specify either a <tt class="docutils literal"><span class="pre">containerName</span></tt> and <tt class="docutils literal"><span class="pre">containerPort</span></tt> combination or a <tt class="docutils literal"><span class="pre">port</span></tt> value, but not both.</div>
</blockquote>
<p>containerPort -&gt; (integer)</p>
<blockquote>
<div>The port value, already specified in the task definition, to be used for your service discovery service. If the task definition your service task specifies uses the <tt class="docutils literal"><span class="pre">bridge</span></tt> or <tt class="docutils literal"><span class="pre">host</span></tt> network mode, you must specify a <tt class="docutils literal"><span class="pre">containerName</span></tt> and <tt class="docutils literal"><span class="pre">containerPort</span></tt> combination from the task definition. If the task definition your service task specifies uses the <tt class="docutils literal"><span class="pre">awsvpc</span></tt> network mode and a type SRV DNS record is used, you must specify either a <tt class="docutils literal"><span class="pre">containerName</span></tt> and <tt class="docutils literal"><span class="pre">containerPort</span></tt> combination or a <tt class="docutils literal"><span class="pre">port</span></tt> value, but not both.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>scale -&gt; (structure)</p>
<blockquote>
<div>
<p>A floating-point percentage of the desired number of tasks to place and keep running in the task set.</p>
<p>value -&gt; (double)</p>
<blockquote>
<div>The value, specified as a percent total of a service's <tt class="docutils literal"><span class="pre">desiredCount</span></tt> , to scale the task set. Accepted values are numbers between 0 and 100.</div>
</blockquote>
<p>unit -&gt; (string)</p>
<blockquote>
<div>The unit of measure for the scale value.</div>
</blockquote>
</div>
</blockquote>
<p>stabilityStatus -&gt; (string)</p>
<blockquote>
<div>
<p>The stability status, which indicates whether the task set has reached a steady state. If the following conditions are met, the task set will be in <tt class="docutils literal"><span class="pre">STEADY_STATE</span></tt> :</p>
<ul class="simple">
<li>The task <tt class="docutils literal"><span class="pre">runningCount</span></tt> is equal to the <tt class="docutils literal"><span class="pre">computedDesiredCount</span></tt> .</li>
<li>The <tt class="docutils literal"><span class="pre">pendingCount</span></tt> is <tt class="docutils literal"><span class="pre">0</span></tt> .</li>
<li>There are no tasks running on container instances in the <tt class="docutils literal"><span class="pre">DRAINING</span></tt> status.</li>
<li>All tasks are reporting a healthy status from the load balancers, service discovery, and container health checks.</li>
</ul>
<p>If any of those conditions are not met, the stability status returns <tt class="docutils literal"><span class="pre">STABILIZING</span></tt> .</p>
</div>
</blockquote>
<p>stabilityStatusAt -&gt; (timestamp)</p>
<blockquote>
<div>The Unix timestamp for when the task set stability status was retrieved.</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
