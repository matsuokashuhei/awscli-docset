<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-policy — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="organizations" href="index.html">
    <link rel="next" title="decline-handshake" href="decline-handshake.html">
    <link rel="prev" title="create-organizational-unit" href="create-organizational-unit.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-policy">
<span id="cli-aws-organizations-create-policy"></span><h1>create-policy<a class="headerlink" href="#create-policy" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Creates a policy of a specified type that you can attach to a root, an organizational unit (OU), or an individual AWS account.</p>
<p>For more information about policies and their use, see <a class="reference external" href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies.html">Managing Organization Policies</a> .</p>
<p>This operation can be called only from the organization's master account.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/organizations-2016-11-28/CreatePolicy">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-policy
--content &lt;value&gt;
--description &lt;value&gt;
--name &lt;value&gt;
--type &lt;value&gt;
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--content</span></tt> (string)</p>
<blockquote>
<div>The policy content to add to the new policy. For example, you could create a <a class="reference external" href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html">service control policy</a> (SCP) that specifies the permissions that administrators in attached accounts can delegate to their users, groups, and roles. The string for this SCP must be JSON text. For more information about the SCP syntax, see <a class="reference external" href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_reference_scp-syntax.html">Service Control Policy Syntax</a> in the <em>AWS Organizations User Guide.</em>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--description</span></tt> (string)</p>
<blockquote>
<div>An optional description to assign to the policy.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--name</span></tt> (string)</p>
<blockquote>
<div>
<p>The friendly name to assign to the policy.</p>
<p>The <a class="reference external" href="http://wikipedia.org/wiki/regex">regex pattern</a> that is used to validate this parameter is a string of any of the characters in the ASCII character range.</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--type</span></tt> (string)</p>
<blockquote>
<div>
<p>The type of policy to create.</p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">SERVICE_CONTROL_POLICY</span></tt></li>
<li><tt class="docutils literal"><span class="pre">TAG_POLICY</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Example 1: To create a policy with a text source file for the JSON policy</strong></p>
<p>The following example shows you how to create an service control policy (SCP) named <tt class="docutils literal"><span class="pre">AllowAllS3Actions</span></tt>. The policy contents are taken from a file on the local computer called <tt class="docutils literal"><span class="pre">policy.json</span></tt>.</p>
<div class="highlight-python">
<pre>aws organizations create-policy --content file://policy.json --name AllowAllS3Actions, --type SERVICE_CONTROL_POLICY --description "Allows delegation of all S3 actions"</pre>
</div>
<p>The output includes a policy object with details about the new policy:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="s2">"Policy"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Content"</span><span class="p">:</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">Version</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2012-10-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Statement</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">Effect</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Allow</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Action</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">s3:*</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">Resource</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">*</span><span class="se">\"</span><span class="s2">]}]}"</span><span class="p">,</span>
                <span class="s2">"PolicySummary"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"Arn"</span><span class="p">:</span> <span class="s2">"arn:aws:organizations::o-exampleorgid:policy/service_control_policy/p-examplepolicyid111"</span><span class="p">,</span>
                        <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Allows delegation of all S3 actions"</span><span class="p">,</span>
                        <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"AllowAllS3Actions"</span><span class="p">,</span>
                        <span class="s2">"Type"</span><span class="p">:</span><span class="s2">"SERVICE_CONTROL_POLICY"</span>
                <span class="p">}</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2: To create a policy with a JSON policy as a parameter</strong></p>
<p>The following example shows you how to create the same SCP, this time by embedding the policy contents as a JSON string in the parameter. The string must be escaped with backslashes before the double quotes to ensure that they are treated as literals in the parameter, which itself is surrounded by double quotes:</p>
<div class="highlight-python">
<pre>aws organizations create-policy --content "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:*\"],\"Resource\":[\"*\"]}]}" --name AllowAllS3Actions --type SERVICE_CONTROL_POLICY --description "Allows delegation of all S3 actions"</pre>
</div>
<p>For more information about creating and using policies in your organization, see <a class="reference external" href="http://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies.html">Managing Organization Policies</a> in the <em>AWS Organizations User Guide</em>.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>Policy -&gt; (structure)</p>
<blockquote>
<div>
<p>A structure that contains details about the newly created policy.</p>
<p>PolicySummary -&gt; (structure)</p>
<blockquote>
<div>
<p>A structure that contains additional details about the policy.</p>
<p>Id -&gt; (string)</p>
<blockquote>
<div>
<p>The unique identifier (ID) of the policy.</p>
<p>The <a class="reference external" href="http://wikipedia.org/wiki/regex">regex pattern</a> for a policy ID string requires "p-" followed by from 8 to 128 lower-case letters or digits.</p>
</div>
</blockquote>
<p>Arn -&gt; (string)</p>
<blockquote>
<div>
<p>The Amazon Resource Name (ARN) of the policy.</p>
<p>For more information about ARNs in Organizations, see <a class="reference external" href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_permissions.html#orgs-permissions-arns">ARN Formats Supported by Organizations</a> in the <em>AWS Organizations User Guide</em> .</p>
</div>
</blockquote>
<p>Name -&gt; (string)</p>
<blockquote>
<div>
<p>The friendly name of the policy.</p>
<p>The <a class="reference external" href="http://wikipedia.org/wiki/regex">regex pattern</a> that is used to validate this parameter is a string of any of the characters in the ASCII character range.</p>
</div>
</blockquote>
<p>Description -&gt; (string)</p>
<blockquote>
<div>The description of the policy.</div>
</blockquote>
<p>Type -&gt; (string)</p>
<blockquote>
<div>The type of policy.</div>
</blockquote>
<p>AwsManaged -&gt; (boolean)</p>
<blockquote>
<div>A Boolean value that indicates whether the specified policy is an AWS managed policy. If true, then you can attach the policy to roots, OUs, or accounts, but you cannot edit it.</div>
</blockquote>
</div>
</blockquote>
<p>Content -&gt; (string)</p>
<blockquote>
<div>The text content of the policy.</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
