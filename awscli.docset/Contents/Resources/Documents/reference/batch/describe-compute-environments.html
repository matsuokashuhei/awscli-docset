<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>describe-compute-environments — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="batch" href="index.html">
    <link rel="next" title="describe-job-definitions" href="describe-job-definitions.html">
    <link rel="prev" title="deregister-job-definition" href="deregister-job-definition.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="describe-compute-environments">
<span id="cli-aws-batch-describe-compute-environments"></span><h1>describe-compute-environments<a class="headerlink" href="#describe-compute-environments" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Describes one or more of your compute environments.</p>
<p>If you are using an unmanaged compute environment, you can use the <tt class="docutils literal"><span class="pre">DescribeComputeEnvironment</span></tt> operation to determine the <tt class="docutils literal"><span class="pre">ecsClusterArn</span></tt> that you should launch your Amazon ECS container instances into.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/batch-2016-08-10/DescribeComputeEnvironments">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
<p><tt class="docutils literal"><span class="pre">describe-compute-environments</span></tt> is a paginated operation. Multiple API calls may be issued in order to retrieve the entire data set of results. You can disable pagination by providing the <tt class="docutils literal"><span class="pre">--no-paginate</span></tt> argument.
When using <tt class="docutils literal"><span class="pre">--output</span> <span class="pre">text</span></tt> and the <tt class="docutils literal"><span class="pre">--query</span></tt> argument on a paginated response, the <tt class="docutils literal"><span class="pre">--query</span></tt> argument must extract data from the results of the following query expressions: <tt class="docutils literal"><span class="pre">computeEnvironments</span></tt></p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  describe-compute-environments
[--compute-environments &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--starting-token &lt;value&gt;]
[--page-size &lt;value&gt;]
[--max-items &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--compute-environments</span></tt> (list)</p>
<blockquote>
<div>A list of up to 100 compute environment names or full Amazon Resource Name (ARN) entries.</div>
</blockquote>
<p>Syntax:</p>
<div class="highlight-python">
<pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--starting-token</span></tt> (string)</p>
<blockquote>
<div>
<p>A token to specify where to start paginating. This is the <tt class="docutils literal"><span class="pre">NextToken</span></tt> from a previously truncated response.</p>
<p>For usage examples, see <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/pagination.html">Pagination</a> in the <em>AWS Command Line Interface User Guide</em> .</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--page-size</span></tt> (integer)</p>
<blockquote>
<div>
<p>The size of each page to get in the AWS service call. This does not affect the number of items returned in the command's output. Setting a smaller page size results in more calls to the AWS service, retrieving fewer items in each call. This can help prevent the AWS service calls from timing out.</p>
<p>For usage examples, see <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/pagination.html">Pagination</a> in the <em>AWS Command Line Interface User Guide</em> .</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--max-items</span></tt> (integer)</p>
<blockquote>
<div>
<p>The total number of items to return in the command's output. If the total number of items available is more than the value specified, a <tt class="docutils literal"><span class="pre">NextToken</span></tt> is provided in the command's output. To resume pagination, provide the <tt class="docutils literal"><span class="pre">NextToken</span></tt> value in the <tt class="docutils literal"><span class="pre">starting-token</span></tt> argument of a subsequent command. <strong>Do not</strong> use the <tt class="docutils literal"><span class="pre">NextToken</span></tt> response element directly outside of the AWS CLI.</p>
<p>For usage examples, see <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/pagination.html">Pagination</a> in the <em>AWS Command Line Interface User Guide</em> .</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>To describe a compute environment</strong></p>
<p>This example describes the <cite>P2OnDemand</cite> compute environment.</p>
<p>Command:</p>
<div class="highlight-python">
<pre>aws batch describe-compute-environments --compute-environments P2OnDemand</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"computeEnvironments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"VALID"</span><span class="p">,</span>
            <span class="s2">"serviceRole"</span><span class="p">:</span> <span class="s2">"arn:aws:iam::012345678910:role/AWSBatchServiceRole"</span><span class="p">,</span>
            <span class="s2">"computeEnvironmentArn"</span><span class="p">:</span> <span class="s2">"arn:aws:batch:us-east-1:012345678910:compute-environment/P2OnDemand"</span><span class="p">,</span>
            <span class="s2">"computeResources"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"subnets"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"subnet-220c0e0a"</span><span class="p">,</span>
                    <span class="s2">"subnet-1a95556d"</span><span class="p">,</span>
                    <span class="s2">"subnet-978f6dce"</span>
                <span class="p">],</span>
                <span class="s2">"tags"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"Batch Instance - P2OnDemand"</span>
                <span class="p">},</span>
                <span class="s2">"desiredvCpus"</span><span class="p">:</span> <span class="mi">48</span><span class="p">,</span>
                <span class="s2">"minvCpus"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">"instanceTypes"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"p2"</span>
                <span class="p">],</span>
                <span class="s2">"securityGroupIds"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"sg-cf5093b2"</span>
                <span class="p">],</span>
                <span class="s2">"instanceRole"</span><span class="p">:</span> <span class="s2">"ecsInstanceRole"</span><span class="p">,</span>
                <span class="s2">"maxvCpus"</span><span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"EC2"</span><span class="p">,</span>
                <span class="s2">"ec2KeyPair"</span><span class="p">:</span> <span class="s2">"id_rsa"</span>
            <span class="p">},</span>
            <span class="s2">"statusReason"</span><span class="p">:</span> <span class="s2">"ComputeEnvironment Healthy"</span><span class="p">,</span>
            <span class="s2">"ecsClusterArn"</span><span class="p">:</span> <span class="s2">"arn:aws:ecs:us-east-1:012345678910:cluster/P2OnDemand_Batch_2c06f29d-d1fe-3a49-879d-42394c86effc"</span><span class="p">,</span>
            <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"ENABLED"</span><span class="p">,</span>
            <span class="s2">"computeEnvironmentName"</span><span class="p">:</span> <span class="s2">"P2OnDemand"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"MANAGED"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>computeEnvironments -&gt; (list)</p>
<blockquote>
<div>
<p>The list of compute environments.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>An object representing an AWS Batch compute environment.</p>
<p>computeEnvironmentName -&gt; (string)</p>
<blockquote>
<div>The name of the compute environment.</div>
</blockquote>
<p>computeEnvironmentArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the compute environment.</div>
</blockquote>
<p>ecsClusterArn -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the underlying Amazon ECS cluster used by the compute environment.</div>
</blockquote>
<p>type -&gt; (string)</p>
<blockquote>
<div>The type of the compute environment.</div>
</blockquote>
<p>state -&gt; (string)</p>
<blockquote>
<div>
<p>The state of the compute environment. The valid values are <tt class="docutils literal"><span class="pre">ENABLED</span></tt> or <tt class="docutils literal"><span class="pre">DISABLED</span></tt> .</p>
<p>If the state is <tt class="docutils literal"><span class="pre">ENABLED</span></tt> , then the AWS Batch scheduler can attempt to place jobs from an associated job queue on the compute resources within the environment. If the compute environment is managed, then it can scale its instances out or in automatically, based on the job queue demand.</p>
<p>If the state is <tt class="docutils literal"><span class="pre">DISABLED</span></tt> , then the AWS Batch scheduler does not attempt to place jobs within the environment. Jobs in a <tt class="docutils literal"><span class="pre">STARTING</span></tt> or <tt class="docutils literal"><span class="pre">RUNNING</span></tt> state continue to progress normally. Managed compute environments in the <tt class="docutils literal"><span class="pre">DISABLED</span></tt> state do not scale out. However, they scale in to <tt class="docutils literal"><span class="pre">minvCpus</span></tt> value after instances become idle.</p>
</div>
</blockquote>
<p>status -&gt; (string)</p>
<blockquote>
<div>The current status of the compute environment (for example, <tt class="docutils literal"><span class="pre">CREATING</span></tt> or <tt class="docutils literal"><span class="pre">VALID</span></tt> ).</div>
</blockquote>
<p>statusReason -&gt; (string)</p>
<blockquote>
<div>A short, human-readable string to provide additional details about the current status of the compute environment.</div>
</blockquote>
<p>computeResources -&gt; (structure)</p>
<blockquote>
<div>
<p>The compute resources defined for the compute environment.</p>
<p>type -&gt; (string)</p>
<blockquote>
<div>The type of compute environment: <tt class="docutils literal"><span class="pre">EC2</span></tt> or <tt class="docutils literal"><span class="pre">SPOT</span></tt> .</div>
</blockquote>
<p>allocationStrategy -&gt; (string)</p>
<blockquote>
<div>The allocation strategy to use for the compute resource in case not enough instances of the best fitting instance type can be allocated. This could be due to availability of the instance type in the region or <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-resource-limits.html">Amazon EC2 service limits</a> . If this is not specified, the default is <tt class="docutils literal"><span class="pre">BEST_FIT</span></tt> , which will use only the best fitting instance type, waiting for additional capacity if it's not available. This allocation strategy keeps costs lower but can limit scaling. <tt class="docutils literal"><span class="pre">BEST_FIT_PROGRESSIVE</span></tt> will select an additional instance type that is large enough to meet the requirements of the jobs in the queue, with a preference for an instance type with a lower cost. <tt class="docutils literal"><span class="pre">SPOT_CAPACITY_OPTIMIZED</span></tt> is only available for Spot Instance compute resources and will select an additional instance type that is large enough to meet the requirements of the jobs in the queue, with a preference for an instance type that is less likely to be interrupted.</div>
</blockquote>
<p>minvCpus -&gt; (integer)</p>
<blockquote>
<div>The minimum number of Amazon EC2 vCPUs that an environment should maintain (even if the compute environment is <tt class="docutils literal"><span class="pre">DISABLED</span></tt> ).</div>
</blockquote>
<p>maxvCpus -&gt; (integer)</p>
<blockquote>
<div>The maximum number of Amazon EC2 vCPUs that an environment can reach.</div>
</blockquote>
<p>desiredvCpus -&gt; (integer)</p>
<blockquote>
<div>The desired number of Amazon EC2 vCPUS in the compute environment.</div>
</blockquote>
<p>instanceTypes -&gt; (list)</p>
<blockquote>
<div>
<p>The instances types that may be launched. You can specify instance families to launch any instance type within those families (for example, <tt class="docutils literal"><span class="pre">c5</span></tt> or <tt class="docutils literal"><span class="pre">p3</span></tt> ), or you can specify specific sizes within a family (such as <tt class="docutils literal"><span class="pre">c5.8xlarge</span></tt> ). You can also choose <tt class="docutils literal"><span class="pre">optimal</span></tt> to pick instance types (from the C, M, and R instance families) on the fly that match the demand of your job queues.</p>
<p>(string)</p>
</div>
</blockquote>
<p>imageId -&gt; (string)</p>
<blockquote>
<div>The Amazon Machine Image (AMI) ID used for instances launched in the compute environment.</div>
</blockquote>
<p>subnets -&gt; (list)</p>
<blockquote>
<div>
<p>The VPC subnets into which the compute resources are launched. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html">VPCs and Subnets</a> in the <em>Amazon VPC User Guide</em> .</p>
<p>(string)</p>
</div>
</blockquote>
<p>securityGroupIds -&gt; (list)</p>
<blockquote>
<div>
<p>The Amazon EC2 security groups associated with instances launched in the compute environment. One or more security groups must be specified, either in <tt class="docutils literal"><span class="pre">securityGroupIds</span></tt> or using a launch template referenced in <tt class="docutils literal"><span class="pre">launchTemplate</span></tt> . If security groups are specified using both <tt class="docutils literal"><span class="pre">securityGroupIds</span></tt> and <tt class="docutils literal"><span class="pre">launchTemplate</span></tt> , the values in <tt class="docutils literal"><span class="pre">securityGroupIds</span></tt> will be used.</p>
<p>(string)</p>
</div>
</blockquote>
<p>ec2KeyPair -&gt; (string)</p>
<blockquote>
<div>The Amazon EC2 key pair that is used for instances launched in the compute environment.</div>
</blockquote>
<p>instanceRole -&gt; (string)</p>
<blockquote>
<div>The Amazon ECS instance profile applied to Amazon EC2 instances in a compute environment. You can specify the short name or full Amazon Resource Name (ARN) of an instance profile. For example, `` <em>ecsInstanceRole</em> `` or <a href="#id1"><span class="problematic" id="id2">``</span></a>arn:aws:iam::<em>aws_account_id</em> :instance-profile/<em>ecsInstanceRole</em> `` . For more information, see <a class="reference external" href="https://docs.aws.amazon.com/batch/latest/userguide/instance_IAM_role.html">Amazon ECS Instance Role</a> in the <em>AWS Batch User Guide</em> .</div>
</blockquote>
<p>tags -&gt; (map)</p>
<blockquote>
<div>
<p>Key-value pair tags to be applied to resources that are launched in the compute environment. For AWS Batch, these take the form of "String1": "String2", where String1 is the tag key and String2 is the tag value—for example, { "Name": "AWS Batch Instance - C4OnDemand" }.</p>
<p>key -&gt; (string)</p>
<p>value -&gt; (string)</p>
</div>
</blockquote>
<p>placementGroup -&gt; (string)</p>
<blockquote>
<div>The Amazon EC2 placement group to associate with your compute resources. If you intend to submit multi-node parallel jobs to your compute environment, you should consider creating a cluster placement group and associate it with your compute resources. This keeps your multi-node parallel job on a logical grouping of instances within a single Availability Zone with high network flow potential. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html">Placement Groups</a> in the <em>Amazon EC2 User Guide for Linux Instances</em> .</div>
</blockquote>
<p>bidPercentage -&gt; (integer)</p>
<blockquote>
<div>The maximum percentage that a Spot Instance price can be when compared with the On-Demand price for that instance type before instances are launched. For example, if your maximum percentage is 20%, then the Spot price must be below 20% of the current On-Demand price for that Amazon EC2 instance. You always pay the lowest (market) price and never more than your maximum percentage. If you leave this field empty, the default value is 100% of the On-Demand price.</div>
</blockquote>
<p>spotIamFleetRole -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the Amazon EC2 Spot Fleet IAM role applied to a <tt class="docutils literal"><span class="pre">SPOT</span></tt> compute environment. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/batch/latest/userguide/spot_fleet_IAM_role.html">Amazon EC2 Spot Fleet Role</a> in the <em>AWS Batch User Guide</em> .</div>
</blockquote>
<p>launchTemplate -&gt; (structure)</p>
<blockquote>
<div>
<p>The launch template to use for your compute resources. Any other compute resource parameters that you specify in a  CreateComputeEnvironment API operation override the same parameters in the launch template. You must specify either the launch template ID or launch template name in the request, but not both. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/batch/latest/userguide/launch-templates.html">Launch Template Support</a> in the <em>AWS Batch User Guide</em> .</p>
<p>launchTemplateId -&gt; (string)</p>
<blockquote>
<div>The ID of the launch template.</div>
</blockquote>
<p>launchTemplateName -&gt; (string)</p>
<blockquote>
<div>The name of the launch template.</div>
</blockquote>
<p>version -&gt; (string)</p>
<blockquote>
<div>
<p>The version number of the launch template.</p>
<p>Default: The default version of the launch template.</p>
</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>serviceRole -&gt; (string)</p>
<blockquote>
<div>The service role associated with the compute environment that allows AWS Batch to make calls to AWS API operations on your behalf.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>nextToken -&gt; (string)</p>
<blockquote>
<div>The <tt class="docutils literal"><span class="pre">nextToken</span></tt> value to include in a future <tt class="docutils literal"><span class="pre">DescribeComputeEnvironments</span></tt> request. When the results of a <tt class="docutils literal"><span class="pre">DescribeJobDefinitions</span></tt> request exceed <tt class="docutils literal"><span class="pre">maxResults</span></tt> , this value can be used to retrieve the next page of results. This value is <tt class="docutils literal"><span class="pre">null</span></tt> when there are no more results to return.</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
