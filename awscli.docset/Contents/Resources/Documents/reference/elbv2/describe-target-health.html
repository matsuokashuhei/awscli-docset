<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>describe-target-health — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="elbv2" href="index.html">
    <link rel="next" title="modify-listener" href="modify-listener.html">
    <link rel="prev" title="describe-target-groups" href="describe-target-groups.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="describe-target-health">
<span id="cli-aws-elbv2-describe-target-health"></span><h1>describe-target-health<a class="headerlink" href="#describe-target-health" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Describes the health of the specified targets or all of your targets.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/elasticloadbalancingv2-2015-12-01/DescribeTargetHealth">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  describe-target-health
--target-group-arn &lt;value&gt;
[--targets &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--target-group-arn</span></tt> (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) of the target group.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--targets</span></tt> (list)</p>
<blockquote>
<div>The targets.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>Id=string,Port=integer,AvailabilityZone=string ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "Id": "string",
    "Port": integer,
    "AvailabilityZone": "string"
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Example 1: To describe the health of the targets for a target group</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">describe-target-health</span></tt> example displays health details for the targets of the specified target group. These targets are healthy.</p>
<div class="highlight-python">
<pre>aws elbv2 describe-target-health \
    --target-group-arn arn:aws:elasticloadbalancing:us-west-2:123456789012:targetgroup/my-targets/73e2d6bc24d8a067</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-ceddcd4d"</span><span class="p">,</span>
                <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"healthy"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-0f76fade"</span><span class="p">,</span>
                <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"healthy"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2: To describe the health of a target</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">describe-target-health</span></tt> example displays health details for the specified target. This target is healthy.</p>
<div class="highlight-python">
<pre>aws elbv2 describe-target-health \
    --targets Id=i-0f76fade,Port=80 \
    --target-group-arn arn:aws:elasticloadbalancing:us-west-2:123456789012:targetgroup/my-targets/73e2d6bc24d8a067</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-0f76fade"</span><span class="p">,</span>
                <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"healthy"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example output is for a target whose target group is not specified in an action for a listener. This target can't receive traffic from the load balancer.</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
        <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-0f76fade"</span><span class="p">,</span>
            <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
        <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"unused"</span><span class="p">,</span>
                <span class="s2">"Reason"</span><span class="p">:</span> <span class="s2">"Target.NotInUse"</span><span class="p">,</span>
                <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Target group is not configured to receive traffic from the load balancer"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example output is for a target whose target group was just specified in an action for a listener. The target is still being registered.</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-0f76fade"</span><span class="p">,</span>
                <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"initial"</span><span class="p">,</span>
                <span class="s2">"Reason"</span><span class="p">:</span> <span class="s2">"Elb.RegistrationInProgress"</span><span class="p">,</span>
                <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Target registration is in progress"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example output is for an unhealthy target.</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"HealthCheckPort"</span><span class="p">:</span> <span class="s2">"80"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"i-0f76fade"</span><span class="p">,</span>
                <span class="s2">"Port"</span><span class="p">:</span> <span class="mi">80</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"unhealthy"</span><span class="p">,</span>
                <span class="s2">"Reason"</span><span class="p">:</span> <span class="s2">"Target.Timeout"</span><span class="p">,</span>
                <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Connection to target timed out"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example output is for a target that is a Lambda function and health checks are disabled.</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"TargetHealthDescriptions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"Target"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"arn:aws:lambda:us-west-2:123456789012:function:my-function"</span><span class="p">,</span>
                <span class="s2">"AvailabilityZone"</span><span class="p">:</span> <span class="s2">"all"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">"TargetHealth"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"unavailable"</span><span class="p">,</span>
                <span class="s2">"Reason"</span><span class="p">:</span> <span class="s2">"Target.HealthCheckDisabled"</span><span class="p">,</span>
                <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Health checks are not enabled for this target"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>TargetHealthDescriptions -&gt; (list)</p>
<blockquote>
<div>
<p>Information about the health of the targets.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>Information about the health of a target.</p>
<p>Target -&gt; (structure)</p>
<blockquote>
<div>
<p>The description of the target.</p>
<p>Id -&gt; (string)</p>
<blockquote>
<div>The ID of the target. If the target type of the target group is <tt class="docutils literal"><span class="pre">instance</span></tt> , specify an instance ID. If the target type is <tt class="docutils literal"><span class="pre">ip</span></tt> , specify an IP address. If the target type is <tt class="docutils literal"><span class="pre">lambda</span></tt> , specify the ARN of the Lambda function.</div>
</blockquote>
<p>Port -&gt; (integer)</p>
<blockquote>
<div>The port on which the target is listening. Not used if the target is a Lambda function.</div>
</blockquote>
<p>AvailabilityZone -&gt; (string)</p>
<blockquote>
<div>
<p>An Availability Zone or <tt class="docutils literal"><span class="pre">all</span></tt> . This determines whether the target receives traffic from the load balancer nodes in the specified Availability Zone or from all enabled Availability Zones for the load balancer.</p>
<p>This parameter is not supported if the target type of the target group is <tt class="docutils literal"><span class="pre">instance</span></tt> .</p>
<p>If the target type is <tt class="docutils literal"><span class="pre">ip</span></tt> and the IP address is in a subnet of the VPC for the target group, the Availability Zone is automatically detected and this parameter is optional. If the IP address is outside the VPC, this parameter is required.</p>
<p>With an Application Load Balancer, if the target type is <tt class="docutils literal"><span class="pre">ip</span></tt> and the IP address is outside the VPC for the target group, the only supported value is <tt class="docutils literal"><span class="pre">all</span></tt> .</p>
<p>If the target type is <tt class="docutils literal"><span class="pre">lambda</span></tt> , this parameter is optional and the only supported value is <tt class="docutils literal"><span class="pre">all</span></tt> .</p>
</div>
</blockquote>
</div>
</blockquote>
<p>HealthCheckPort -&gt; (string)</p>
<blockquote>
<div>The port to use to connect with the target.</div>
</blockquote>
<p>TargetHealth -&gt; (structure)</p>
<blockquote>
<div>
<p>The health information for the target.</p>
<p>State -&gt; (string)</p>
<blockquote>
<div>The state of the target.</div>
</blockquote>
<p>Reason -&gt; (string)</p>
<blockquote>
<div>
<p>The reason code.</p>
<p>If the target state is <tt class="docutils literal"><span class="pre">healthy</span></tt> , a reason code is not provided.</p>
<p>If the target state is <tt class="docutils literal"><span class="pre">initial</span></tt> , the reason code can be one of the following values:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Elb.RegistrationInProgress</span></tt> - The target is in the process of being registered with the load balancer.</li>
<li>
<tt class="docutils literal"><span class="pre">Elb.InitialHealthChecking</span></tt> - The load balancer is still sending the target the minimum number of health checks required to determine its health status.</li>
</ul>
<p>If the target state is <tt class="docutils literal"><span class="pre">unhealthy</span></tt> , the reason code can be one of the following values:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Target.ResponseCodeMismatch</span></tt> - The health checks did not return an expected HTTP code. Applies only to Application Load Balancers.</li>
<li>
<tt class="docutils literal"><span class="pre">Target.Timeout</span></tt> - The health check requests timed out. Applies only to Application Load Balancers.</li>
<li>
<tt class="docutils literal"><span class="pre">Target.FailedHealthChecks</span></tt> - The load balancer received an error while establishing a connection to the target or the target response was malformed.</li>
<li>
<tt class="docutils literal"><span class="pre">Elb.InternalError</span></tt> - The health checks failed due to an internal error. Applies only to Application Load Balancers.</li>
</ul>
<p>If the target state is <tt class="docutils literal"><span class="pre">unused</span></tt> , the reason code can be one of the following values:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Target.NotRegistered</span></tt> - The target is not registered with the target group.</li>
<li>
<tt class="docutils literal"><span class="pre">Target.NotInUse</span></tt> - The target group is not used by any load balancer or the target is in an Availability Zone that is not enabled for its load balancer.</li>
<li>
<tt class="docutils literal"><span class="pre">Target.InvalidState</span></tt> - The target is in the stopped or terminated state.</li>
<li>
<tt class="docutils literal"><span class="pre">Target.IpUnusable</span></tt> - The target IP address is reserved for use by a load balancer.</li>
</ul>
<p>If the target state is <tt class="docutils literal"><span class="pre">draining</span></tt> , the reason code can be the following value:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Target.DeregistrationInProgress</span></tt> - The target is in the process of being deregistered and the deregistration delay period has not expired.</li>
</ul>
<p>If the target state is <tt class="docutils literal"><span class="pre">unavailable</span></tt> , the reason code can be the following value:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Target.HealthCheckDisabled</span></tt> - Health checks are disabled for the target group. Applies only to Application Load Balancers.</li>
<li>
<tt class="docutils literal"><span class="pre">Elb.InternalError</span></tt> - Target health is unavailable due to an internal error. Applies only to Network Load Balancers.</li>
</ul>
</div>
</blockquote>
<p>Description -&gt; (string)</p>
<blockquote>
<div>A description of the target health that provides additional details. If the state is <tt class="docutils literal"><span class="pre">healthy</span></tt> , a description is not provided.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
