<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-mount-target — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="efs" href="index.html">
    <link rel="next" title="create-tags" href="create-tags.html">
    <link rel="prev" title="create-file-system" href="create-file-system.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-mount-target">
<span id="cli-aws-efs-create-mount-target"></span><h1>create-mount-target<a class="headerlink" href="#create-mount-target" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Creates a mount target for a file system. You can then mount the file system on EC2 instances by using the mount target.</p>
<p>You can create one mount target in each Availability Zone in your VPC. All EC2 instances in a VPC within a given Availability Zone share a single mount target for a given file system. If you have multiple subnets in an Availability Zone, you create a mount target in one of the subnets. EC2 instances do not need to be in the same subnet as the mount target in order to access their file system. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/efs/latest/ug/how-it-works.html">Amazon EFS: How it Works</a> .</p>
<p>In the request, you also specify a file system ID for which you are creating the mount target and the file system's lifecycle state must be <tt class="docutils literal"><span class="pre">available</span></tt> . For more information, see  DescribeFileSystems .</p>
<p>In the request, you also provide a subnet ID, which determines the following:</p>
<ul class="simple">
<li>VPC in which Amazon EFS creates the mount target</li>
<li>Availability Zone in which Amazon EFS creates the mount target</li>
<li>IP address range from which Amazon EFS selects the IP address of the mount target (if you don't specify an IP address in the request)</li>
</ul>
<p>After creating the mount target, Amazon EFS returns a response that includes, a <tt class="docutils literal"><span class="pre">MountTargetId</span></tt> and an <tt class="docutils literal"><span class="pre">IpAddress</span></tt> . You use this IP address when mounting the file system in an EC2 instance. You can also use the mount target's DNS name when mounting the file system. The EC2 instance on which you mount the file system by using the mount target can resolve the mount target's DNS name to its IP address. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/efs/latest/ug/how-it-works.html#how-it-works-implementation">How it Works: Implementation Overview</a> .</p>
<p>Note that you can create mount targets for a file system in only one VPC, and there can be only one mount target per Availability Zone. That is, if the file system already has one or more mount targets created for it, the subnet specified in the request to add another mount target must meet the following requirements:</p>
<ul class="simple">
<li>Must belong to the same VPC as the subnets of the existing mount targets</li>
<li>Must not be in the same Availability Zone as any of the subnets of the existing mount targets</li>
</ul>
<p>If the request satisfies the requirements, Amazon EFS does the following:</p>
<ul class="simple">
<li>Creates a new mount target in the specified subnet.</li>
<li>Also creates a new network interface in the subnet as follows:<ul>
<li>If the request provides an <tt class="docutils literal"><span class="pre">IpAddress</span></tt> , Amazon EFS assigns that IP address to the network interface. Otherwise, Amazon EFS assigns a free address in the subnet (in the same way that the Amazon EC2 <tt class="docutils literal"><span class="pre">CreateNetworkInterface</span></tt> call does when a request does not specify a primary private IP address).</li>
<li>If the request provides <tt class="docutils literal"><span class="pre">SecurityGroups</span></tt> , this network interface is associated with those security groups. Otherwise, it belongs to the default security group for the subnet's VPC.</li>
<li>Assigns the description <tt class="docutils literal"><span class="pre">Mount</span> <span class="pre">target</span> <span class="pre">*fsmt-id*</span> <span class="pre">for</span> <span class="pre">file</span> <span class="pre">system</span> <span class="pre">*fs-id*</span> <span class="pre">``</span> <span class="pre">where</span> <span class="pre">``</span> <span class="pre">*fsmt-id*</span> <span class="pre">``</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">mount</span> <span class="pre">target</span> <span class="pre">ID,</span> <span class="pre">and</span> <span class="pre">``</span> <span class="pre">*fs-id*</span> <span class="pre">``</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">``FileSystemId</span></tt> .</li>
<li>Sets the <tt class="docutils literal"><span class="pre">requesterManaged</span></tt> property of the network interface to <tt class="docutils literal"><span class="pre">true</span></tt> , and the <tt class="docutils literal"><span class="pre">requesterId</span></tt> value to <tt class="docutils literal"><span class="pre">EFS</span></tt> .</li>
</ul>
</li>
</ul>
<p>Each Amazon EFS mount target has one corresponding requester-managed EC2 network interface. After the network interface is created, Amazon EFS sets the <tt class="docutils literal"><span class="pre">NetworkInterfaceId</span></tt> field in the mount target's description to the network interface ID, and the <tt class="docutils literal"><span class="pre">IpAddress</span></tt> field to its address. If network interface creation fails, the entire <tt class="docutils literal"><span class="pre">CreateMountTarget</span></tt> operation fails.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">CreateMountTarget</span></tt> call returns only after creating the network interface, but while the mount target state is still <tt class="docutils literal"><span class="pre">creating</span></tt> , you can check the mount target creation status by calling the  DescribeMountTargets operation, which among other things returns the mount target state.</p>
</div>
<p>We recommend that you create a mount target in each of the Availability Zones. There are cost considerations for using a file system in an Availability Zone through a mount target created in another Availability Zone. For more information, see <a class="reference external" href="http://aws.amazon.com/efs/">Amazon EFS</a> . In addition, by always using a mount target local to the instance's Availability Zone, you eliminate a partial failure scenario. If the Availability Zone in which your mount target is created goes down, then you can't access your file system through that mount target.</p>
<p>This operation requires permissions for the following action on the file system:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">elasticfilesystem:CreateMountTarget</span></tt></li>
</ul>
<p>This operation also requires permissions for the following Amazon EC2 actions:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ec2:DescribeSubnets</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ec2:DescribeNetworkInterfaces</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ec2:CreateNetworkInterface</span></tt></li>
</ul>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/elasticfilesystem-2015-02-01/CreateMountTarget">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-mount-target
--file-system-id &lt;value&gt;
--subnet-id &lt;value&gt;
[--ip-address &lt;value&gt;]
[--security-groups &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--file-system-id</span></tt> (string)</p>
<blockquote>
<div>The ID of the file system for which to create the mount target.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--subnet-id</span></tt> (string)</p>
<blockquote>
<div>The ID of the subnet to add the mount target in.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--ip-address</span></tt> (string)</p>
<blockquote>
<div>Valid IPv4 address within the address range of the specified subnet.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--security-groups</span></tt> (list)</p>
<blockquote>
<div>Up to five VPC security group IDs, of the form <tt class="docutils literal"><span class="pre">sg-xxxxxxxx</span></tt> . These must be for the same VPC as subnet specified.</div>
</blockquote>
<p>Syntax:</p>
<div class="highlight-python">
<pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>OwnerId -&gt; (string)</p>
<blockquote>
<div>AWS account ID that owns the resource.</div>
</blockquote>
<p>MountTargetId -&gt; (string)</p>
<blockquote>
<div>System-assigned mount target ID.</div>
</blockquote>
<p>FileSystemId -&gt; (string)</p>
<blockquote>
<div>The ID of the file system for which the mount target is intended.</div>
</blockquote>
<p>SubnetId -&gt; (string)</p>
<blockquote>
<div>The ID of the mount target's subnet.</div>
</blockquote>
<p>LifeCycleState -&gt; (string)</p>
<blockquote>
<div>Lifecycle state of the mount target.</div>
</blockquote>
<p>IpAddress -&gt; (string)</p>
<blockquote>
<div>Address at which the file system can be mounted by using the mount target.</div>
</blockquote>
<p>NetworkInterfaceId -&gt; (string)</p>
<blockquote>
<div>The ID of the network interface that Amazon EFS created when it created the mount target.</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
