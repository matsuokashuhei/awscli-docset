<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>update-group-query — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="resource-groups" href="index.html">
    <link rel="next" title="resourcegroupstaggingapi" href="../resourcegroupstaggingapi/index.html">
    <link rel="prev" title="update-group" href="update-group.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="update-group-query">
<span id="cli-aws-resource-groups-update-group-query"></span><h1>update-group-query<a class="headerlink" href="#update-group-query" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Updates the resource query of a group.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/resource-groups-2017-11-27/UpdateGroupQuery">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  update-group-query
--group-name &lt;value&gt;
--resource-query &lt;value&gt;
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--group-name</span></tt> (string)</p>
<blockquote>
<div>The name of the resource group for which you want to edit the query.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--resource-query</span></tt> (structure)</p>
<blockquote>
<div>The resource query that determines which AWS resources are members of the resource group.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">Type</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">Query</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"TAG_FILTERS_1_0"</span><span class="o">|</span><span class="s2">"CLOUDFORMATION_STACK_1_0"</span><span class="p">,</span>
  <span class="s2">"Query"</span><span class="p">:</span> <span class="s2">"string"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Example 1: To update the query for a tag-based resource group</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">update-group-query</span></tt> example updates the query for a tag-based resource group of Amazon EC2 instances. To update the group query, you can change the values specified for <tt class="docutils literal"><span class="pre">ResourceTypeFilters</span></tt> or <tt class="docutils literal"><span class="pre">TagFilters</span></tt>.</p>
<div class="highlight-python">
<pre>aws resource-groups update-group-query \
    --group-name WebServer3 \
    --resource-query '{"Type":"TAG_FILTERS_1_0", "Query":"{\"ResourceTypeFilters\":[\"AWS::EC2::Instance\"],\"TagFilters\":[{\"Key\":\"Name\", \"Values\":[\"WebServers\"]}]}"}'</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"Group"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"GroupArn"</span><span class="p">:</span> <span class="s2">"arn:aws:resource-groups:us-east-2:123456789012:group/WebServer3"</span><span class="p">,</span>
        <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"WebServer3"</span>
    <span class="p">},</span>
    <span class="s2">"ResourceQuery"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"TAG_FILTERS_1_0"</span><span class="p">,</span>
        <span class="s2">"Query"</span><span class="p">:</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">ResourceTypeFilters</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">AWS::EC2::Instance</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">TagFilters</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">Key</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">Values</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">WebServers</span><span class="se">\"</span><span class="s2">]}]}"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2: To update the query for a CloudFormation stack-based resource group</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">update-group-query</span></tt> example updates the query for an AWS CloudFormation stack-based resource group named <tt class="docutils literal"><span class="pre">sampleCFNstackgroup</span></tt>. To update the group query, you can change the values specified for <tt class="docutils literal"><span class="pre">ResourceTypeFilters</span></tt> or <tt class="docutils literal"><span class="pre">StackIdentifier</span></tt>.</p>
<div class="highlight-python">
<pre>aws resource-groups update-group-query \
    --group-name sampleCFNstackgroup \
    --resource-query '{"Type": "CLOUDFORMATION_STACK_1_0", "Query": "{\"ResourceTypeFilters\":[\"AWS::AllSupported\"],\"StackIdentifier\":\"arn:aws:cloudformation:us-east-2:123456789012:stack/testcloudformationstack/1415z9z0-z39z-11z8-97z5-500z212zz6fz\"}"}'</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"Group"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"GroupArn"</span><span class="p">:</span> <span class="s2">"arn:aws:resource-groups:us-east-2:123456789012:group/sampleCFNstackgroup"</span><span class="p">,</span>
        <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"sampleCFNstackgroup"</span>
    <span class="p">},</span>
    <span class="s2">"ResourceQuery"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"CLOUDFORMATION_STACK_1_0"</span><span class="p">,</span>
        <span class="s2">"Query"</span><span class="p">:</span><span class="s1">'{</span><span class="se">\"</span><span class="s1">CloudFormationStackArn</span><span class="se">\"</span><span class="s1">:</span><span class="se">\"</span><span class="s1">arn:aws:cloudformation:us-east-2:123456789012:stack/testcloudformationstack/1415z9z0-z39z-11z8-97z5-500z212zz6fz</span><span class="se">\"</span><span class="s1">,</span><span class="se">\"</span><span class="s1">ResourceTypeFilters</span><span class="se">\"</span><span class="s1">:[</span><span class="se">\"</span><span class="s1">AWS::AllSupported</span><span class="se">\"</span><span class="s1">]}"}'</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>GroupQuery -&gt; (structure)</p>
<blockquote>
<div>
<p>The resource query associated with the resource group after the update.</p>
<p>GroupName -&gt; (string)</p>
<blockquote>
<div>The name of a resource group that is associated with a specific resource query.</div>
</blockquote>
<p>ResourceQuery -&gt; (structure)</p>
<blockquote>
<div>
<p>The resource query which determines which AWS resources are members of the associated resource group.</p>
<p>Type -&gt; (string)</p>
<blockquote>
<div>
<p>The type of the query. The valid values in this release are <tt class="docutils literal"><span class="pre">TAG_FILTERS_1_0</span></tt> and <tt class="docutils literal"><span class="pre">CLOUDFORMATION_STACK_1_0</span></tt> .</p>
<blockquote>
<div>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">TAG_FILTERS_1_0:</span></tt> * A JSON syntax that lets you specify a collection of simple tag filters for resource types and tags, as supported by the AWS Tagging API <a class="reference external" href="https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/API_GetResources.html">GetResources</a> operation. If you specify more than one tag key, only resources that match all tag keys, and at least one value of each specified tag key, are returned in your query. If you specify more than one value for a tag key, a resource matches the filter if it has a tag key value that matches <em>any</em> of the specified values.</li>
</ul>
</div>
</blockquote>
<p>For example, consider the following sample query for resources that have two tags, <tt class="docutils literal"><span class="pre">Stage</span></tt> and <tt class="docutils literal"><span class="pre">Version</span></tt> , with two values each. (<tt class="docutils literal"><span class="pre">[{"Key":"Stage","Values":["Test","Deploy"]},{"Key":"Version","Values":["1","2"]}]</span></tt> ) The results of this query might include the following.</p>
<ul class="simple">
<li>An EC2 instance that has the following two tags: <tt class="docutils literal"><span class="pre">{"Key":"Stage","Value":"Deploy"}</span></tt> , and <tt class="docutils literal"><span class="pre">{"Key":"Version","Value":"2"}</span></tt>
</li>
<li>An S3 bucket that has the following two tags: {"Key":"Stage","Value":"Test"}, and {"Key":"Version","Value":"1"}</li>
</ul>
<p>The query would not return the following results, however. The following EC2 instance does not have all tag keys specified in the filter, so it is rejected. The RDS database has all of the tag keys, but no values that match at least one of the specified tag key values in the filter.</p>
<ul class="simple">
<li>An EC2 instance that has only the following tag: <tt class="docutils literal"><span class="pre">{"Key":"Stage","Value":"Deploy"}</span></tt> .</li>
<li>An RDS database that has the following two tags: <tt class="docutils literal"><span class="pre">{"Key":"Stage","Value":"Archived"}</span></tt> , and <tt class="docutils literal"><span class="pre">{"Key":"Version","Value":"4"}</span></tt>
</li>
</ul>
<blockquote>
<div>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">CLOUDFORMATION_STACK_1_0:</span></tt> * A JSON syntax that lets you specify a CloudFormation stack ARN.</li>
</ul>
</div>
</blockquote>
</div>
</blockquote>
<p>Query -&gt; (string)</p>
<blockquote>
<div>The query that defines a group or a search.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
