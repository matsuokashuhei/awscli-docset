<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>allocate-hosts — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="ec2" href="index.html">
    <link rel="next" title="apply-security-groups-to-client-vpn-target-network" href="apply-security-groups-to-client-vpn-target-network.html">
    <link rel="prev" title="allocate-address" href="allocate-address.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="allocate-hosts">
<span id="cli-aws-ec2-allocate-hosts"></span><h1>allocate-hosts<a class="headerlink" href="#allocate-hosts" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Allocates a Dedicated Host to your account. At a minimum, specify the supported instance type or instance family, the Availability Zone in which to allocate the host, and the number of hosts to allocate.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/AllocateHosts">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  allocate-hosts
[--auto-placement &lt;value&gt;]
--availability-zone &lt;value&gt;
[--client-token &lt;value&gt;]
[--instance-type &lt;value&gt;]
[--instance-family &lt;value&gt;]
--quantity &lt;value&gt;
[--tag-specifications &lt;value&gt;]
[--host-recovery &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--auto-placement</span></tt> (string)</p>
<blockquote>
<div>
<p>Indicates whether the host accepts any untargeted instance launches that match its instance type configuration, or if it only accepts Host tenancy instance launches that specify its unique host ID. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-dedicated-hosts-work.html#dedicated-hosts-understanding">Understanding Instance Placement and Host Affinity</a> in the <em>Amazon EC2 User Guide for Linux Instances</em> .</p>
<p>Default: <tt class="docutils literal"><span class="pre">on</span></tt></p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">on</span></tt></li>
<li><tt class="docutils literal"><span class="pre">off</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--availability-zone</span></tt> (string)</p>
<blockquote>
<div>The Availability Zone in which to allocate the Dedicated Host.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--client-token</span></tt> (string)</p>
<blockquote>
<div>Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/Run_Instance_Idempotency.html">How to Ensure Idempotency</a> .</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--instance-type</span></tt> (string)</p>
<blockquote>
<div>
<p>Specifies the instance type to be supported by the Dedicated Hosts. If you specify an instance type, the Dedicated Hosts support instances of the specified instance type only.</p>
<p>If you want the Dedicated Hosts to support multiple instance types in a specific instance family, omit this parameter and specify <strong>InstanceFamily</strong> instead. You cannot specify <strong>InstanceType</strong> and <strong>InstanceFamily</strong> in the same request.</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--instance-family</span></tt> (string)</p>
<blockquote>
<div>
<p>Specifies the instance family to be supported by the Dedicated Hosts. If you specify an instance family, the Dedicated Hosts support multiple instance types within that instance family.</p>
<p>If you want the Dedicated Hosts to support a specific instance type only, omit this parameter and specify <strong>InstanceType</strong> instead. You cannot specify <strong>InstanceFamily</strong> and <strong>InstanceType</strong> in the same request.</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--quantity</span></tt> (integer)</p>
<blockquote>
<div>The number of Dedicated Hosts to allocate to your account with these parameters.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--tag-specifications</span></tt> (list)</p>
<blockquote>
<div>The tags to apply to the Dedicated Host during creation.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>ResourceType=string,Tags=[{Key=string,Value=string},{Key=string,Value=string}] ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "ResourceType": "client-vpn-endpoint"|"customer-gateway"|"dedicated-host"|"dhcp-options"|"elastic-ip"|"fleet"|"fpga-image"|"host-reservation"|"image"|"instance"|"internet-gateway"|"key-pair"|"launch-template"|"natgateway"|"network-acl"|"network-interface"|"placement-group"|"reserved-instances"|"route-table"|"security-group"|"snapshot"|"spot-fleet-request"|"spot-instances-request"|"subnet"|"traffic-mirror-filter"|"traffic-mirror-session"|"traffic-mirror-target"|"transit-gateway"|"transit-gateway-attachment"|"transit-gateway-multicast-domain"|"transit-gateway-route-table"|"volume"|"vpc"|"vpc-peering-connection"|"vpn-connection"|"vpn-gateway",
    "Tags": [
      {
        "Key": "string",
        "Value": "string"
      }
      ...
    ]
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--host-recovery</span></tt> (string)</p>
<blockquote>
<div>
<p>Indicates whether to enable or disable host recovery for the Dedicated Host. Host recovery is disabled by default. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-hosts-recovery.html">Host Recovery</a> in the <em>Amazon Elastic Compute Cloud User Guide</em> .</p>
<p>Default: <tt class="docutils literal"><span class="pre">off</span></tt></p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">on</span></tt></li>
<li><tt class="docutils literal"><span class="pre">off</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Example 1: To allocate a Dedicated Host</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">allocate-hosts</span></tt> example allocates a single Dedicated Host in the <tt class="docutils literal"><span class="pre">eu-west-1a</span></tt> Availability Zone, onto which you can launch <tt class="docutils literal"><span class="pre">m5.large</span></tt> instances. By default, the Dedicated Host accepts only target instance launches, and does not support host recovery.</p>
<div class="highlight-python">
<pre>aws ec2 allocate-hosts \
    --instance-type m5.large \
    --availability-zone eu-west-1a \
    --quantity 1</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"HostIds"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"h-07879acf49EXAMPLE"</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2: To allocate a Dedicated Host with auto-placement and host recovery enabled</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">allocate-hosts</span></tt> example allocates a single Dedicated Host in the <tt class="docutils literal"><span class="pre">eu-west-1a</span></tt> Availability Zone with auto-placement and host recovery enabled.</p>
<div class="highlight-python">
<pre>aws ec2 allocate-hosts \
    --instance-type m5.large \
    --availability-zone eu-west-1a \
    --auto-placement on \
    --host-recovery on \
    --quantity 1</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="s2">"HostIds"</span><span class="p">:</span> <span class="p">[</span>
         <span class="s2">"h-07879acf49EXAMPLE"</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 3: To allocate a Dedicated Host with tags</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">allocate-hosts</span></tt> example allocates a single Dedicated Host and applies a tag with a key named <tt class="docutils literal"><span class="pre">purpose</span></tt> and a value of <tt class="docutils literal"><span class="pre">production</span></tt>.</p>
<div class="highlight-python">
<pre>aws ec2 allocate-hosts \
    --instance-type m5.large \
    --availability-zone eu-west-1a \
    --quantity 1 \
    --tag-specifications 'ResourceType=dedicated-host,Tags={Key=purpose,Value=production}'</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"HostIds"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"h-07879acf49EXAMPLE"</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For more information, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-dedicated-hosts-work.html#dedicated-hosts-allocating">Allocating Dedicated Hosts</a> in the <em>Amazon Elastic Compute Cloud User Guide for Linux Instances</em>.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>HostIds -&gt; (list)</p>
<blockquote>
<div>
<p>The ID of the allocated Dedicated Host. This is used to launch an instance onto a specific host.</p>
<p>(string)</p>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
