<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-data-repository-task — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="fsx" href="index.html">
    <link rel="next" title="create-file-system" href="create-file-system.html">
    <link rel="prev" title="create-backup" href="create-backup.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-data-repository-task">
<span id="cli-aws-fsx-create-data-repository-task"></span><h1>create-data-repository-task<a class="headerlink" href="#create-data-repository-task" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Creates an Amazon FSx for Lustre data repository task. You use data repository tasks to perform bulk operations between your Amazon FSx file system and its linked data repository. An example of a data repository task is exporting any data and metadata changes, including POSIX metadata, to files, directories, and symbolic links (symlinks) from your FSx file system to its linked data repository. A <tt class="docutils literal"><span class="pre">CreateDataRepositoryTask</span></tt> operation will fail if a data repository is not linked to the FSx file system. To learn more about data repository tasks, see <a class="reference external" href="https://docs.aws.amazon.com/fsx/latest/LustreGuide/data-repository-tasks.html">Using Data Repository Tasks</a> . To learn more about linking a data repository to your file system, see <a class="reference external" href="https://docs.aws.amazon.com/fsx/latest/LustreGuide/getting-started-step1.html">Step 1: Create Your Amazon FSx for Lustre File System</a> .</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/fsx-2018-03-01/CreateDataRepositoryTask">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-data-repository-task
--type &lt;value&gt;
[--paths &lt;value&gt;]
--file-system-id &lt;value&gt;
--report &lt;value&gt;
[--client-request-token &lt;value&gt;]
[--tags &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--type</span></tt> (string)</p>
<blockquote>
<div>
<p>Specifies the type of data repository task to create.</p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">EXPORT_TO_REPOSITORY</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--paths</span></tt> (list)</p>
<blockquote>
<div>(Optional) The path or paths on the Amazon FSx file system to use when the data repository task is processed. The default path is the file system root directory.</div>
</blockquote>
<p>Syntax:</p>
<div class="highlight-python">
<pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--file-system-id</span></tt> (string)</p>
<blockquote>
<div>The globally unique ID of the file system, assigned by Amazon FSx.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--report</span></tt> (structure)</p>
<blockquote>
<div>Defines whether or not Amazon FSx provides a CompletionReport once the task has completed. A CompletionReport provides a detailed report on the files that Amazon FSx processed that meet the criteria specified by the <tt class="docutils literal"><span class="pre">Scope</span></tt> parameter.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">Enabled</span><span class="o">=</span><span class="n">boolean</span><span class="p">,</span><span class="n">Path</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">Format</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">Scope</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"Enabled"</span><span class="p">:</span> <span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="p">,</span>
  <span class="s2">"Path"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"Format"</span><span class="p">:</span> <span class="s2">"REPORT_CSV_20191124"</span><span class="p">,</span>
  <span class="s2">"Scope"</span><span class="p">:</span> <span class="s2">"FAILED_FILES_ONLY"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--client-request-token</span></tt> (string)</p>
<blockquote>
<div>(Optional) An idempotency token for resource creation, in a string of up to 64 ASCII characters. This token is automatically filled on your behalf when you use the AWS Command Line Interface (AWS CLI) or an AWS SDK.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--tags</span></tt> (list)</p>
<blockquote>
<div>A list of <tt class="docutils literal"><span class="pre">Tag</span></tt> values, with a maximum of 50 elements.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>Key=string,Value=string ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "Key": "string",
    "Value": "string"
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>DataRepositoryTask -&gt; (structure)</p>
<blockquote>
<div>
<p>The description of the data repository task that you just created.</p>
<p>TaskId -&gt; (string)</p>
<blockquote>
<div>The system-generated, unique 17-digit ID of the data repository task.</div>
</blockquote>
<p>Lifecycle -&gt; (string)</p>
<blockquote>
<div>
<p>The lifecycle status of the data repository task, as follows:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">PENDING</span></tt> - Amazon FSx has not started the task.</li>
<li>
<tt class="docutils literal"><span class="pre">EXECUTING</span></tt> - Amazon FSx is processing the task.</li>
<li>
<tt class="docutils literal"><span class="pre">FAILED</span></tt> - Amazon FSx was not able to complete the task. For example, there may be files the task failed to process. The  DataRepositoryTaskFailureDetails property provides more information about task failures.</li>
<li>
<tt class="docutils literal"><span class="pre">SUCCEEDED</span></tt> - FSx completed the task successfully.</li>
<li>
<tt class="docutils literal"><span class="pre">CANCELED</span></tt> - Amazon FSx canceled the task and it did not complete.</li>
<li>
<tt class="docutils literal"><span class="pre">CANCELING</span></tt> - FSx is in process of canceling the task.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot delete an FSx for Lustre file system if there are data repository tasks for the file system in the <tt class="docutils literal"><span class="pre">PENDING</span></tt> or <tt class="docutils literal"><span class="pre">EXECUTING</span></tt> states. Please retry when the data repository task is finished (with a status of <tt class="docutils literal"><span class="pre">CANCELED</span></tt> , <tt class="docutils literal"><span class="pre">SUCCEEDED</span></tt> , or <tt class="docutils literal"><span class="pre">FAILED</span></tt> ). You can use the DescribeDataRepositoryTask action to monitor the task status. Contact the FSx team if you need to delete your file system immediately.</p>
</div>
</div>
</blockquote>
<p>Type -&gt; (string)</p>
<blockquote>
<div>The type of data repository task; EXPORT_TO_REPOSITORY is the only type currently supported.</div>
</blockquote>
<p>CreationTime -&gt; (timestamp)</p>
<blockquote>
<div>The time that the resource was created, in seconds (since 1970-01-01T00:00:00Z), also known as Unix time.</div>
</blockquote>
<p>StartTime -&gt; (timestamp)</p>
<blockquote>
<div>The time that Amazon FSx began processing the task.</div>
</blockquote>
<p>EndTime -&gt; (timestamp)</p>
<blockquote>
<div>The time that Amazon FSx completed processing the task, populated after the task is complete.</div>
</blockquote>
<p>ResourceARN -&gt; (string)</p>
<blockquote>
<div>The Amazon Resource Name (ARN) for a given resource. ARNs uniquely identify AWS resources. We require an ARN when you need to specify a resource unambiguously across all of AWS. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">Amazon Resource Names (ARNs) and AWS Service Namespaces</a> in the <em>AWS General Reference</em> .</div>
</blockquote>
<p>Tags -&gt; (list)</p>
<blockquote>
<div>
<p>A list of <tt class="docutils literal"><span class="pre">Tag</span></tt> values, with a maximum of 50 elements.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>Specifies a key-value pair for a resource tag.</p>
<p>Key -&gt; (string)</p>
<blockquote>
<div>A value that specifies the <tt class="docutils literal"><span class="pre">TagKey</span></tt> , the name of the tag. Tag keys must be unique for the resource to which they are attached.</div>
</blockquote>
<p>Value -&gt; (string)</p>
<blockquote>
<div>A value that specifies the <tt class="docutils literal"><span class="pre">TagValue</span></tt> , the value assigned to the corresponding tag key. Tag values can be null and don't have to be unique in a tag set. For example, you can have a key-value pair in a tag set of <tt class="docutils literal"><span class="pre">finances</span> <span class="pre">:</span> <span class="pre">April</span></tt> and also of <tt class="docutils literal"><span class="pre">payroll</span> <span class="pre">:</span> <span class="pre">April</span></tt> .</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>FileSystemId -&gt; (string)</p>
<blockquote>
<div>The globally unique ID of the file system, assigned by Amazon FSx.</div>
</blockquote>
<p>Paths -&gt; (list)</p>
<blockquote>
<div>
<p>An array of paths on the Amazon FSx for Lustre file system that specify the data for the data repository task to process. For example, in an EXPORT_TO_REPOSITORY task, the paths specify which data to export to the linked data repository.</p>
<p>(Default) If <tt class="docutils literal"><span class="pre">Paths</span></tt> is not specified, Amazon FSx uses the file system root directory.</p>
<p>(string)</p>
</div>
</blockquote>
<p>FailureDetails -&gt; (structure)</p>
<blockquote>
<div>
<p>Failure message describing why the task failed, it is populated only when <tt class="docutils literal"><span class="pre">Lifecycle</span></tt> is set to <tt class="docutils literal"><span class="pre">FAILED</span></tt> .</p>
<p>Message -&gt; (string)</p>
<blockquote>
<div>A detailed error message.</div>
</blockquote>
</div>
</blockquote>
<p>Status -&gt; (structure)</p>
<blockquote>
<div>
<p>Provides the status of the number of files that the task has processed successfully and failed to process.</p>
<p>TotalCount -&gt; (long)</p>
<blockquote>
<div>The total number of files that the task will process. While a task is executing, the sum of <tt class="docutils literal"><span class="pre">SucceededCount</span></tt> plus <tt class="docutils literal"><span class="pre">FailedCount</span></tt> may not equal <tt class="docutils literal"><span class="pre">TotalCount</span></tt> . When the task is complete, <tt class="docutils literal"><span class="pre">TotalCount</span></tt> equals the sum of <tt class="docutils literal"><span class="pre">SucceededCount</span></tt> plus <tt class="docutils literal"><span class="pre">FailedCount</span></tt> .</div>
</blockquote>
<p>SucceededCount -&gt; (long)</p>
<blockquote>
<div>A running total of the number of files that the task has successfully processed.</div>
</blockquote>
<p>FailedCount -&gt; (long)</p>
<blockquote>
<div>A running total of the number of files that the task failed to process.</div>
</blockquote>
<p>LastUpdatedTime -&gt; (timestamp)</p>
<blockquote>
<div>The time at which the task status was last updated.</div>
</blockquote>
</div>
</blockquote>
<p>Report -&gt; (structure)</p>
<blockquote>
<div>
<p>Provides a report detailing the data repository task results of the files processed that match the criteria specified in the report <tt class="docutils literal"><span class="pre">Scope</span></tt> parameter. FSx delivers the report to the file system's linked data repository in Amazon S3, using the path specified in the report <tt class="docutils literal"><span class="pre">Path</span></tt> parameter. You can specify whether or not a report gets generated for a task using the <tt class="docutils literal"><span class="pre">Enabled</span></tt> parameter.</p>
<p>Enabled -&gt; (boolean)</p>
<blockquote>
<div>Set <tt class="docutils literal"><span class="pre">Enabled</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt> to generate a <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> when the task completes. If set to <tt class="docutils literal"><span class="pre">true</span></tt> , then you need to provide a report <tt class="docutils literal"><span class="pre">Scope</span></tt> , <tt class="docutils literal"><span class="pre">Path</span></tt> , and <tt class="docutils literal"><span class="pre">Format</span></tt> . Set <tt class="docutils literal"><span class="pre">Enabled</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt> if you do not want a <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> generated when the task completes.</div>
</blockquote>
<p>Path -&gt; (string)</p>
<blockquote>
<div>Required if <tt class="docutils literal"><span class="pre">Enabled</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt> . Specifies the location of the report on the file system's linked S3 data repository. An absolute path that defines where the completion report will be stored in the destination location. The <tt class="docutils literal"><span class="pre">Path</span></tt> you provide must be located within the file system’s ExportPath. An example <tt class="docutils literal"><span class="pre">Path</span></tt> value is "s3://myBucket/myExportPath/optionalPrefix". The report provides the following information for each file in the report: FilePath, FileStatus, and ErrorCode. To learn more about a file system's <tt class="docutils literal"><span class="pre">ExportPath</span></tt> , see .</div>
</blockquote>
<p>Format -&gt; (string)</p>
<blockquote>
<div>Required if <tt class="docutils literal"><span class="pre">Enabled</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt> . Specifies the format of the <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> . <tt class="docutils literal"><span class="pre">REPORT_CSV_20191124</span></tt> is the only format currently supported. When <tt class="docutils literal"><span class="pre">Format</span></tt> is set to <tt class="docutils literal"><span class="pre">REPORT_CSV_20191124</span></tt> , the <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> is provided in CSV format, and is delivered to <tt class="docutils literal"><span class="pre">{path}/task-{id}/failures.csv</span></tt> .</div>
</blockquote>
<p>Scope -&gt; (string)</p>
<blockquote>
<div>Required if <tt class="docutils literal"><span class="pre">Enabled</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt> . Specifies the scope of the <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> ; <tt class="docutils literal"><span class="pre">FAILED_FILES_ONLY</span></tt> is the only scope currently supported. When <tt class="docutils literal"><span class="pre">Scope</span></tt> is set to <tt class="docutils literal"><span class="pre">FAILED_FILES_ONLY</span></tt> , the <tt class="docutils literal"><span class="pre">CompletionReport</span></tt> only contains information about files that the data repository task failed to process.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
