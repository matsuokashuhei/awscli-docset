<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-job — AWS CLI 1.16.298 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.298',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.298 Command Reference" href="../../index.html">
    <link rel="up" title="iot" href="index.html">
    <link rel="next" title="create-keys-and-certificate" href="create-keys-and-certificate.html">
    <link rel="prev" title="create-dynamic-thing-group" href="create-dynamic-thing-group.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-job">
<span id="cli-aws-iot-create-job"></span><h1>create-job<a class="headerlink" href="#create-job" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Creates a job.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/iot-2015-05-28/CreateJob">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-job
--job-id &lt;value&gt;
--targets &lt;value&gt;
[--document-source &lt;value&gt;]
[--document &lt;value&gt;]
[--description &lt;value&gt;]
[--presigned-url-config &lt;value&gt;]
[--target-selection &lt;value&gt;]
[--job-executions-rollout-config &lt;value&gt;]
[--abort-config &lt;value&gt;]
[--timeout-config &lt;value&gt;]
[--tags &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--job-id</span></tt> (string)</p>
<blockquote>
<div>A job identifier which must be unique for your AWS account. We recommend using a UUID. Alpha-numeric characters, "-" and "_" are valid for use here.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--targets</span></tt> (list)</p>
<blockquote>
<div>A list of things and thing groups to which the job should be sent.</div>
</blockquote>
<p>Syntax:</p>
<div class="highlight-python">
<pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--document-source</span></tt> (string)</p>
<blockquote>
<div>An S3 link to the job document.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--document</span></tt> (string)</p>
<blockquote>
<div>
<p>The job document.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If the job document resides in an S3 bucket, you must use a placeholder link when specifying the document.</p>
<p>The placeholder link is of the following form:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">${aws:iot:s3-presigned-url:https://s3.amazonaws.com/*bucket*</span> <span class="pre">/*key*</span> <span class="pre">}</span></tt></div>
</blockquote>
<p class="last">where <em>bucket</em> is your bucket name and <em>key</em> is the object in the bucket to which you are linking.</p>
</div>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--description</span></tt> (string)</p>
<blockquote>
<div>A short text description of the job.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--presigned-url-config</span></tt> (structure)</p>
<blockquote>
<div>Configuration information for pre-signed S3 URLs.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">roleArn</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">expiresInSec</span><span class="o">=</span><span class="nb">long</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"roleArn"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"expiresInSec"</span><span class="p">:</span> <span class="nb">long</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--target-selection</span></tt> (string)</p>
<blockquote>
<div>
<p>Specifies whether the job will continue to run (CONTINUOUS), or will be complete after all those things specified as targets have completed the job (SNAPSHOT). If continuous, the job may also be run on a thing when a change is detected in a target. For example, a job will run on a thing when the thing is added to a target group, even after the job was completed by all things originally in the group.</p>
<p>Possible values:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">CONTINUOUS</span></tt></li>
<li><tt class="docutils literal"><span class="pre">SNAPSHOT</span></tt></li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--job-executions-rollout-config</span></tt> (structure)</p>
<blockquote>
<div>Allows you to create a staged rollout of the job.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>maximumPerMinute=integer,exponentialRate={baseRatePerMinute=integer,incrementFactor=double,rateIncreaseCriteria={numberOfNotifiedThings=integer,numberOfSucceededThings=integer}}</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"maximumPerMinute"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
  <span class="s2">"exponentialRate"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"baseRatePerMinute"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
    <span class="s2">"incrementFactor"</span><span class="p">:</span> <span class="n">double</span><span class="p">,</span>
    <span class="s2">"rateIncreaseCriteria"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"numberOfNotifiedThings"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
      <span class="s2">"numberOfSucceededThings"</span><span class="p">:</span> <span class="n">integer</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--abort-config</span></tt> (structure)</p>
<blockquote>
<div>Allows you to create criteria to abort a job.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>criteriaList=[{failureType=string,action=string,thresholdPercentage=double,minNumberOfExecutedThings=integer},{failureType=string,action=string,thresholdPercentage=double,minNumberOfExecutedThings=integer}]</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>{
  "criteriaList": [
    {
      "failureType": "FAILED"|"REJECTED"|"TIMED_OUT"|"ALL",
      "action": "CANCEL",
      "thresholdPercentage": double,
      "minNumberOfExecutedThings": integer
    }
    ...
  ]
}</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--timeout-config</span></tt> (structure)</p>
<blockquote>
<div>Specifies the amount of time each device has to finish its execution of the job. The timer is started when the job execution status is set to <tt class="docutils literal"><span class="pre">IN_PROGRESS</span></tt> . If the job execution status is not set to another terminal state before the time expires, it will be automatically set to <tt class="docutils literal"><span class="pre">TIMED_OUT</span></tt> .</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">inProgressTimeoutInMinutes</span><span class="o">=</span><span class="nb">long</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"inProgressTimeoutInMinutes"</span><span class="p">:</span> <span class="nb">long</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--tags</span></tt> (list)</p>
<blockquote>
<div>Metadata which can be used to manage the job.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>Key=string,Value=string ...</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>[
  {
    "Key": "string",
    "Value": "string"
  }
  ...
]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Example 1: To create a job</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">create-job</span></tt> example creates a simple AWS IoT job that sends a JSON document to the <tt class="docutils literal"><span class="pre">MyRaspberryPi</span></tt> device.</p>
<div class="highlight-python">
<pre>aws iot create-job \
    --job-id "example-job-01" \
    --targets "arn:aws:iot:us-west-2:123456789012:thing/MyRaspberryPi" \
    --document file://example-job.json \
    --description "example job test" \
    --target-selection SNAPSHOT</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"jobArn"</span><span class="p">:</span> <span class="s2">"arn:aws:iot:us-west-2:123456789012:job/example-job-01"</span><span class="p">,</span>
    <span class="s2">"jobId"</span><span class="p">:</span> <span class="s2">"example-job-01"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"example job test"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2: To create a continuous job</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">create-job</span></tt> example creates a job that continues to run after the things specified as targets have completed the job. In this example, the target is a thing group, so when new devices are added to the group, the continuous job runs on those new things.</p>
<blockquote>
<div>
<dl class="docutils">
<dt>aws iot create-job </dt>
<dd>--job-id "example-job-04" --targets "arn:aws:iot:us-west-2:123456789012:thinggroup/DeadBulbs" --document file://example-job.json --description "example continuous job" --target-selection CONTINUOUS</dd>
</dl>
</div>
</blockquote>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"jobArn"</span><span class="p">:</span> <span class="s2">"arn:aws:iot:us-west-2:123456789012:job/example-job-04"</span><span class="p">,</span>
    <span class="s2">"jobId"</span><span class="p">:</span> <span class="s2">"example-job-04"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"example continuous job"</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For more information, see <a class="reference external" href="https://docs.aws.amazon.com/iot/latest/developerguide/manage-job-cli.html">Creating and Managing Jobs (CLI)</a> in the <em>AWS IoT Developer Guide</em>.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>jobArn -&gt; (string)</p>
<blockquote>
<div>The job ARN.</div>
</blockquote>
<p>jobId -&gt; (string)</p>
<blockquote>
<div>The unique identifier you assigned to this job.</div>
</blockquote>
<p>description -&gt; (string)</p>
<blockquote>
<div>The job description.</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
