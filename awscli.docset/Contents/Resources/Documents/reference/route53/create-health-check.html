<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>create-health-check — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="route53" href="index.html">
    <link rel="next" title="create-hosted-zone" href="create-hosted-zone.html">
    <link rel="prev" title="change-tags-for-resource" href="change-tags-for-resource.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="create-health-check">
<span id="cli-aws-route53-create-health-check"></span><h1>create-health-check<a class="headerlink" href="#create-health-check" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Creates a new health check.</p>
<p>For information about adding health checks to resource record sets, see <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_ResourceRecordSet.html#Route53-Type-ResourceRecordSet-HealthCheckId">HealthCheckId</a> in <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_ChangeResourceRecordSets.html">ChangeResourceRecordSets</a> .</p>
<blockquote>
<div><strong>ELB Load Balancers</strong></div>
</blockquote>
<p>If you're registering EC2 instances with an Elastic Load Balancing (ELB) load balancer, do not create Amazon Route 53 health checks for the EC2 instances. When you register an EC2 instance with a load balancer, you configure settings for an ELB health check, which performs a similar function to a Route 53 health check.</p>
<blockquote>
<div><strong>Private Hosted Zones</strong></div>
</blockquote>
<p>You can associate health checks with failover resource record sets in a private hosted zone. Note the following:</p>
<ul class="simple">
<li>Route 53 health checkers are outside the VPC. To check the health of an endpoint within a VPC by IP address, you must assign a public IP address to the instance in the VPC.</li>
<li>You can configure a health checker to check the health of an external resource that the instance relies on, such as a database server.</li>
<li>You can create a CloudWatch metric, associate an alarm with the metric, and then create a health check that is based on the state of the alarm. For example, you might create a CloudWatch metric that checks the status of the Amazon EC2 <tt class="docutils literal"><span class="pre">StatusCheckFailed</span></tt> metric, add an alarm to the metric, and then create a health check that is based on the state of the alarm. For information about creating CloudWatch metrics and alarms by using the CloudWatch console, see the <a class="reference external" href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/WhatIsCloudWatch.html">Amazon CloudWatch User Guide</a> .</li>
</ul>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/route53-2013-04-01/CreateHealthCheck">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  create-health-check
--caller-reference &lt;value&gt;
--health-check-config &lt;value&gt;
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--caller-reference</span></tt> (string)</p>
<blockquote>
<div>
<p>A unique string that identifies the request and that allows you to retry a failed <tt class="docutils literal"><span class="pre">CreateHealthCheck</span></tt> request without the risk of creating two identical health checks:</p>
<ul class="simple">
<li>If you send a <tt class="docutils literal"><span class="pre">CreateHealthCheck</span></tt> request with the same <tt class="docutils literal"><span class="pre">CallerReference</span></tt> and settings as a previous request, and if the health check doesn't exist, Amazon Route 53 creates the health check. If the health check does exist, Route 53 returns the settings for the existing health check.</li>
<li>If you send a <tt class="docutils literal"><span class="pre">CreateHealthCheck</span></tt> request with the same <tt class="docutils literal"><span class="pre">CallerReference</span></tt> as a deleted health check, regardless of the settings, Route 53 returns a <tt class="docutils literal"><span class="pre">HealthCheckAlreadyExists</span></tt> error.</li>
<li>If you send a <tt class="docutils literal"><span class="pre">CreateHealthCheck</span></tt> request with the same <tt class="docutils literal"><span class="pre">CallerReference</span></tt> as an existing health check but with different settings, Route 53 returns a <tt class="docutils literal"><span class="pre">HealthCheckAlreadyExists</span></tt> error.</li>
<li>If you send a <tt class="docutils literal"><span class="pre">CreateHealthCheck</span></tt> request with a unique <tt class="docutils literal"><span class="pre">CallerReference</span></tt> but settings identical to an existing health check, Route 53 creates the health check.</li>
</ul>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--health-check-config</span></tt> (structure)</p>
<blockquote>
<div>A complex type that contains settings for a new health check.</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<pre>IPAddress=string,Port=integer,Type=string,ResourcePath=string,FullyQualifiedDomainName=string,SearchString=string,RequestInterval=integer,FailureThreshold=integer,MeasureLatency=boolean,Inverted=boolean,Disabled=boolean,HealthThreshold=integer,ChildHealthChecks=string,string,EnableSNI=boolean,Regions=string,string,AlarmIdentifier={Region=string,Name=string},InsufficientDataHealthStatus=string</pre>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"IPAddress"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"Port"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
  <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"HTTP"</span><span class="o">|</span><span class="s2">"HTTPS"</span><span class="o">|</span><span class="s2">"HTTP_STR_MATCH"</span><span class="o">|</span><span class="s2">"HTTPS_STR_MATCH"</span><span class="o">|</span><span class="s2">"TCP"</span><span class="o">|</span><span class="s2">"CALCULATED"</span><span class="o">|</span><span class="s2">"CLOUDWATCH_METRIC"</span><span class="p">,</span>
  <span class="s2">"ResourcePath"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"FullyQualifiedDomainName"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"SearchString"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"RequestInterval"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
  <span class="s2">"FailureThreshold"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
  <span class="s2">"MeasureLatency"</span><span class="p">:</span> <span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="p">,</span>
  <span class="s2">"Inverted"</span><span class="p">:</span> <span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="p">,</span>
  <span class="s2">"Disabled"</span><span class="p">:</span> <span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="p">,</span>
  <span class="s2">"HealthThreshold"</span><span class="p">:</span> <span class="n">integer</span><span class="p">,</span>
  <span class="s2">"ChildHealthChecks"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"string"</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
  <span class="s2">"EnableSNI"</span><span class="p">:</span> <span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="p">,</span>
  <span class="s2">"Regions"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"us-east-1"</span><span class="o">|</span><span class="s2">"us-west-1"</span><span class="o">|</span><span class="s2">"us-west-2"</span><span class="o">|</span><span class="s2">"eu-west-1"</span><span class="o">|</span><span class="s2">"ap-southeast-1"</span><span class="o">|</span><span class="s2">"ap-southeast-2"</span><span class="o">|</span><span class="s2">"ap-northeast-1"</span><span class="o">|</span><span class="s2">"sa-east-1"</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
  <span class="s2">"AlarmIdentifier"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"Region"</span><span class="p">:</span> <span class="s2">"us-east-1"</span><span class="o">|</span><span class="s2">"us-east-2"</span><span class="o">|</span><span class="s2">"us-west-1"</span><span class="o">|</span><span class="s2">"us-west-2"</span><span class="o">|</span><span class="s2">"ca-central-1"</span><span class="o">|</span><span class="s2">"eu-central-1"</span><span class="o">|</span><span class="s2">"eu-west-1"</span><span class="o">|</span><span class="s2">"eu-west-2"</span><span class="o">|</span><span class="s2">"eu-west-3"</span><span class="o">|</span><span class="s2">"ap-east-1"</span><span class="o">|</span><span class="s2">"me-south-1"</span><span class="o">|</span><span class="s2">"ap-south-1"</span><span class="o">|</span><span class="s2">"ap-southeast-1"</span><span class="o">|</span><span class="s2">"ap-southeast-2"</span><span class="o">|</span><span class="s2">"ap-northeast-1"</span><span class="o">|</span><span class="s2">"ap-northeast-2"</span><span class="o">|</span><span class="s2">"ap-northeast-3"</span><span class="o">|</span><span class="s2">"eu-north-1"</span><span class="o">|</span><span class="s2">"sa-east-1"</span><span class="o">|</span><span class="s2">"cn-northwest-1"</span><span class="o">|</span><span class="s2">"cn-north-1"</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"string"</span>
  <span class="p">},</span>
  <span class="s2">"InsufficientDataHealthStatus"</span><span class="p">:</span> <span class="s2">"Healthy"</span><span class="o">|</span><span class="s2">"Unhealthy"</span><span class="o">|</span><span class="s2">"LastKnownStatus"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>To create a health check</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">create-health-check</span></tt> command creates a health check using the caller reference <tt class="docutils literal"><span class="pre">2014-04-01-18:47</span></tt> and the JSON-formatted configuration in the file <tt class="docutils literal"><span class="pre">C:\awscli\route53\create-health-check.json</span></tt>:</p>
<div class="highlight-python">
<pre>aws route53 create-health-check --caller-reference 2014-04-01-18:47 --health-check-config file://C:\awscli\route53\create-health-check.json</pre>
</div>
<p>JSON syntax:</p>
<div class="highlight-python">
<pre>{
  "IPAddress": "IP address of the endpoint to check",
  "Port": port on the endpoint to check--required when Type is "TCP",
  "Type": "HTTP"|"HTTPS"|"HTTP_STR_MATCH"|"HTTPS_STR_MATCH"|"TCP",
  "ResourcePath": "path of the file that you want Amazon Route 53 to request--all Types except TCP",
  "FullyQualifiedDomainName": "domain name of the endpoint to check--all Types except TCP",
  "SearchString": "if Type is HTTP_STR_MATCH or HTTPS_STR_MATCH, the string to search for in the response body from the specified resource",
  "RequestInterval": 10 | 30,
  "FailureThreshold": integer between 1 and 10
}</pre>
</div>
<p>To add the health check to a Route 53 resource record set, use the <tt class="docutils literal"><span class="pre">change-resource-record-sets</span></tt> command.</p>
<p>For more information, see <a class="reference external" href="http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover.html">Amazon Route 53 Health Checks and DNS Failover</a> in the <em>Amazon Route 53 Developer Guide</em>.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>HealthCheck -&gt; (structure)</p>
<blockquote>
<div>
<p>A complex type that contains identifying information about the health check.</p>
<p>Id -&gt; (string)</p>
<blockquote>
<div>The identifier that Amazon Route 53assigned to the health check when you created it. When you add or update a resource record set, you use this value to specify which health check to use. The value can be up to 64 characters long.</div>
</blockquote>
<p>CallerReference -&gt; (string)</p>
<blockquote>
<div>A unique string that you specified when you created the health check.</div>
</blockquote>
<p>LinkedService -&gt; (structure)</p>
<blockquote>
<div>
<p>If the health check was created by another service, the service that created the health check. When a health check is created by another service, you can't edit or delete it using Amazon Route 53.</p>
<p>ServicePrincipal -&gt; (string)</p>
<blockquote>
<div>If the health check or hosted zone was created by another service, the service that created the resource. When a resource is created by another service, you can't edit or delete it using Amazon Route 53.</div>
</blockquote>
<p>Description -&gt; (string)</p>
<blockquote>
<div>If the health check or hosted zone was created by another service, an optional description that can be provided by the other service. When a resource is created by another service, you can't edit or delete it using Amazon Route 53.</div>
</blockquote>
</div>
</blockquote>
<p>HealthCheckConfig -&gt; (structure)</p>
<blockquote>
<div>
<p>A complex type that contains detailed information about one health check.</p>
<p>IPAddress -&gt; (string)</p>
<blockquote>
<div>
<p>The IPv4 or IPv6 IP address of the endpoint that you want Amazon Route 53 to perform health checks on. If you don't specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> , Route 53 sends a DNS request to resolve the domain name that you specify in <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> at the interval that you specify in <tt class="docutils literal"><span class="pre">RequestInterval</span></tt> . Using an IP address returned by DNS, Route 53 then checks the health of the endpoint.</p>
<p>Use one of the following formats for the value of <tt class="docutils literal"><span class="pre">IPAddress</span></tt> :</p>
<ul class="simple">
<li>
<strong>IPv4 address</strong> : four values between 0 and 255, separated by periods (.), for example, <tt class="docutils literal"><span class="pre">192.0.2.44</span></tt> .</li>
<li>
<strong>IPv6 address</strong> : eight groups of four hexadecimal values, separated by colons (:), for example, <tt class="docutils literal"><span class="pre">2001:0db8:85a3:0000:0000:abcd:0001:2345</span></tt> . You can also shorten IPv6 addresses as described in RFC 5952, for example, <tt class="docutils literal"><span class="pre">2001:db8:85a3::abcd:1:2345</span></tt> .</li>
</ul>
<p>If the endpoint is an EC2 instance, we recommend that you create an Elastic IP address, associate it with your EC2 instance, and specify the Elastic IP address for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> . This ensures that the IP address of your instance will never change.</p>
<p>For more information, see <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_UpdateHealthCheck.html#Route53-UpdateHealthCheck-request-FullyQualifiedDomainName">FullyQualifiedDomainName</a> .</p>
<p>Constraints: Route 53 can't check the health of endpoints for which the IP address is in local, private, non-routable, or multicast ranges. For more information about IP addresses for which you can't create health checks, see the following documents:</p>
<ul class="simple">
<li><a class="reference external" href="https://tools.ietf.org/html/rfc5735">RFC 5735, Special Use IPv4 Addresses</a></li>
<li><a class="reference external" href="https://tools.ietf.org/html/rfc6598">RFC 6598, IANA-Reserved IPv4 Prefix for Shared Address Space</a></li>
<li><a class="reference external" href="https://tools.ietf.org/html/rfc5156">RFC 5156, Special-Use IPv6 Addresses</a></li>
</ul>
<p>When the value of <tt class="docutils literal"><span class="pre">Type</span></tt> is <tt class="docutils literal"><span class="pre">CALCULATED</span></tt> or <tt class="docutils literal"><span class="pre">CLOUDWATCH_METRIC</span></tt> , omit <tt class="docutils literal"><span class="pre">IPAddress</span></tt> .</p>
</div>
</blockquote>
<p>Port -&gt; (integer)</p>
<blockquote>
<div>The port on the endpoint on which you want Amazon Route 53 to perform health checks. Specify a value for <tt class="docutils literal"><span class="pre">Port</span></tt> only when you specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> .</div>
</blockquote>
<p>Type -&gt; (string)</p>
<blockquote>
<div>
<p>The type of health check that you want to create, which indicates how Amazon Route 53 determines whether an endpoint is healthy.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You can't change the value of <tt class="docutils literal"><span class="pre">Type</span></tt> after you create a health check.</p>
</div>
<p>You can create the following types of health checks:</p>
<ul class="simple">
<li>
<strong>HTTP</strong> : Route 53 tries to establish a TCP connection. If successful, Route 53 submits an HTTP request and waits for an HTTP status code of 200 or greater and less than 400.</li>
<li>
<strong>HTTPS</strong> : Route 53 tries to establish a TCP connection. If successful, Route 53 submits an HTTPS request and waits for an HTTP status code of 200 or greater and less than 400.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you specify <tt class="docutils literal"><span class="pre">HTTPS</span></tt> for the value of <tt class="docutils literal"><span class="pre">Type</span></tt> , the endpoint must support TLS v1.0 or later.</p>
</div>
<ul class="simple">
<li>
<strong>HTTP_STR_MATCH</strong> : Route 53 tries to establish a TCP connection. If successful, Route 53 submits an HTTP request and searches the first 5,120 bytes of the response body for the string that you specify in <tt class="docutils literal"><span class="pre">SearchString</span></tt> .</li>
<li>
<strong>HTTPS_STR_MATCH</strong> : Route 53 tries to establish a TCP connection. If successful, Route 53 submits an <tt class="docutils literal"><span class="pre">HTTPS</span></tt> request and searches the first 5,120 bytes of the response body for the string that you specify in <tt class="docutils literal"><span class="pre">SearchString</span></tt> .</li>
<li>
<strong>TCP</strong> : Route 53 tries to establish a TCP connection.</li>
<li>
<strong>CLOUDWATCH_METRIC</strong> : The health check is associated with a CloudWatch alarm. If the state of the alarm is <tt class="docutils literal"><span class="pre">OK</span></tt> , the health check is considered healthy. If the state is <tt class="docutils literal"><span class="pre">ALARM</span></tt> , the health check is considered unhealthy. If CloudWatch doesn't have sufficient data to determine whether the state is <tt class="docutils literal"><span class="pre">OK</span></tt> or <tt class="docutils literal"><span class="pre">ALARM</span></tt> , the health check status depends on the setting for <tt class="docutils literal"><span class="pre">InsufficientDataHealthStatus</span></tt> : <tt class="docutils literal"><span class="pre">Healthy</span></tt> , <tt class="docutils literal"><span class="pre">Unhealthy</span></tt> , or <tt class="docutils literal"><span class="pre">LastKnownStatus</span></tt> .</li>
<li>
<strong>CALCULATED</strong> : For health checks that monitor the status of other health checks, Route 53 adds up the number of health checks that Route 53 health checkers consider to be healthy and compares that number with the value of <tt class="docutils literal"><span class="pre">HealthThreshold</span></tt> .</li>
</ul>
<p>For more information, see <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-determining-health-of-endpoints.html">How Route 53 Determines Whether an Endpoint Is Healthy</a> in the <em>Amazon Route 53 Developer Guide</em> .</p>
</div>
</blockquote>
<p>ResourcePath -&gt; (string)</p>
<blockquote>
<div>The path, if any, that you want Amazon Route 53 to request when performing health checks. The path can be any value for which your endpoint will return an HTTP status code of 2xx or 3xx when the endpoint is healthy, for example, the file /docs/route53-health-check.html. You can also include query string parameters, for example, <tt class="docutils literal"><span class="pre">/welcome.html?language=jplogin=y</span></tt> .</div>
</blockquote>
<p>FullyQualifiedDomainName -&gt; (string)</p>
<blockquote>
<div>
<p>Amazon Route 53 behavior depends on whether you specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> .</p>
<blockquote>
<div>
<strong>If you specify a value for</strong>  <tt class="docutils literal"><span class="pre">IPAddress</span></tt> :</div>
</blockquote>
<p>Amazon Route 53 sends health check requests to the specified IPv4 or IPv6 address and passes the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> in the <tt class="docutils literal"><span class="pre">Host</span></tt> header for all health checks except TCP health checks. This is typically the fully qualified DNS name of the endpoint on which you want Route 53 to perform health checks.</p>
<p>When Route 53 checks the health of an endpoint, here is how it constructs the <tt class="docutils literal"><span class="pre">Host</span></tt> header:</p>
<ul class="simple">
<li>If you specify a value of <tt class="docutils literal"><span class="pre">80</span></tt> for <tt class="docutils literal"><span class="pre">Port</span></tt> and <tt class="docutils literal"><span class="pre">HTTP</span></tt> or <tt class="docutils literal"><span class="pre">HTTP_STR_MATCH</span></tt> for <tt class="docutils literal"><span class="pre">Type</span></tt> , Route 53 passes the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> to the endpoint in the Host header.</li>
<li>If you specify a value of <tt class="docutils literal"><span class="pre">443</span></tt> for <tt class="docutils literal"><span class="pre">Port</span></tt> and <tt class="docutils literal"><span class="pre">HTTPS</span></tt> or <tt class="docutils literal"><span class="pre">HTTPS_STR_MATCH</span></tt> for <tt class="docutils literal"><span class="pre">Type</span></tt> , Route 53 passes the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> to the endpoint in the <tt class="docutils literal"><span class="pre">Host</span></tt> header.</li>
<li>If you specify another value for <tt class="docutils literal"><span class="pre">Port</span></tt> and any value except <tt class="docutils literal"><span class="pre">TCP</span></tt> for <tt class="docutils literal"><span class="pre">Type</span></tt> , Route 53 passes <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName:Port</span></tt> to the endpoint in the <tt class="docutils literal"><span class="pre">Host</span></tt> header.</li>
</ul>
<p>If you don't specify a value for <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> , Route 53 substitutes the value of <tt class="docutils literal"><span class="pre">IPAddress</span></tt> in the <tt class="docutils literal"><span class="pre">Host</span></tt> header in each of the preceding cases.</p>
<blockquote>
<div>
<a href="#id1"><span class="problematic" id="id2">**</span></a>If you don't specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> ** :</div>
</blockquote>
<p>Route 53 sends a DNS request to the domain that you specify for <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> at the interval that you specify for <tt class="docutils literal"><span class="pre">RequestInterval</span></tt> . Using an IPv4 address that DNS returns, Route 53 then checks the health of the endpoint.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don't specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> , Route 53 uses only IPv4 to send health checks to the endpoint. If there's no resource record set with a type of A for the name that you specify for <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> , the health check fails with a "DNS resolution failed" error.</p>
</div>
<p>If you want to check the health of weighted, latency, or failover resource record sets and you choose to specify the endpoint only by <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> , we recommend that you create a separate health check for each endpoint. For example, create a health check for each HTTP server that is serving content for www.example.com. For the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> , specify the domain name of the server (such as us-east-2-www.example.com), not the name of the resource record sets (www.example.com).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In this configuration, if you create a health check for which the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> matches the name of the resource record sets and you then associate the health check with those resource record sets, health check results will be unpredictable.</p>
</div>
<p>In addition, if the value that you specify for <tt class="docutils literal"><span class="pre">Type</span></tt> is <tt class="docutils literal"><span class="pre">HTTP</span></tt> , <tt class="docutils literal"><span class="pre">HTTPS</span></tt> , <tt class="docutils literal"><span class="pre">HTTP_STR_MATCH</span></tt> , or <tt class="docutils literal"><span class="pre">HTTPS_STR_MATCH</span></tt> , Route 53 passes the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> in the <tt class="docutils literal"><span class="pre">Host</span></tt> header, as it does when you specify a value for <tt class="docutils literal"><span class="pre">IPAddress</span></tt> . If the value of <tt class="docutils literal"><span class="pre">Type</span></tt> is <tt class="docutils literal"><span class="pre">TCP</span></tt> , Route 53 doesn't pass a <tt class="docutils literal"><span class="pre">Host</span></tt> header.</p>
</div>
</blockquote>
<p>SearchString -&gt; (string)</p>
<blockquote>
<div>
<p>If the value of Type is <tt class="docutils literal"><span class="pre">HTTP_STR_MATCH</span></tt> or <tt class="docutils literal"><span class="pre">HTTP_STR_MATCH</span></tt> , the string that you want Amazon Route 53 to search for in the response body from the specified resource. If the string appears in the response body, Route 53 considers the resource healthy.</p>
<p>Route 53 considers case when searching for <tt class="docutils literal"><span class="pre">SearchString</span></tt> in the response body.</p>
</div>
</blockquote>
<p>RequestInterval -&gt; (integer)</p>
<blockquote>
<div>
<p>The number of seconds between the time that Amazon Route 53 gets a response from your endpoint and the time that it sends the next health check request. Each Route 53 health checker makes requests at this interval.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You can't change the value of <tt class="docutils literal"><span class="pre">RequestInterval</span></tt> after you create a health check.</p>
</div>
<p>If you don't specify a value for <tt class="docutils literal"><span class="pre">RequestInterval</span></tt> , the default value is <tt class="docutils literal"><span class="pre">30</span></tt> seconds.</p>
</div>
</blockquote>
<p>FailureThreshold -&gt; (integer)</p>
<blockquote>
<div>
<p>The number of consecutive health checks that an endpoint must pass or fail for Amazon Route 53 to change the current status of the endpoint from unhealthy to healthy or vice versa. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-determining-health-of-endpoints.html">How Amazon Route 53 Determines Whether an Endpoint Is Healthy</a> in the <em>Amazon Route 53 Developer Guide</em> .</p>
<p>If you don't specify a value for <tt class="docutils literal"><span class="pre">FailureThreshold</span></tt> , the default value is three health checks.</p>
</div>
</blockquote>
<p>MeasureLatency -&gt; (boolean)</p>
<blockquote>
<div>
<p>Specify whether you want Amazon Route 53 to measure the latency between health checkers in multiple AWS regions and your endpoint, and to display CloudWatch latency graphs on the <strong>Health Checks</strong> page in the Route 53 console.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You can't change the value of <tt class="docutils literal"><span class="pre">MeasureLatency</span></tt> after you create a health check.</p>
</div>
</div>
</blockquote>
<p>Inverted -&gt; (boolean)</p>
<blockquote>
<div>Specify whether you want Amazon Route 53 to invert the status of a health check, for example, to consider a health check unhealthy when it otherwise would be considered healthy.</div>
</blockquote>
<p>Disabled -&gt; (boolean)</p>
<blockquote>
<div>
<p>Stops Route 53 from performing health checks. When you disable a health check, here's what happens:</p>
<ul class="simple">
<li>
<strong>Health checks that check the health of endpoints:</strong> Route 53 stops submitting requests to your application, server, or other resource.</li>
<li>
<strong>Calculated health checks:</strong> Route 53 stops aggregating the status of the referenced health checks.</li>
<li>
<strong>Health checks that monitor CloudWatch alarms:</strong> Route 53 stops monitoring the corresponding CloudWatch metrics.</li>
</ul>
<p>After you disable a health check, Route 53 considers the status of the health check to always be healthy. If you configured DNS failover, Route 53 continues to route traffic to the corresponding resources. If you want to stop routing traffic to a resource, change the value of <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_UpdateHealthCheck.html#Route53-UpdateHealthCheck-request-Inverted">Inverted</a> .</p>
<p>Charges for a health check still apply when the health check is disabled. For more information, see <a class="reference external" href="http://aws.amazon.com/route53/pricing/">Amazon Route 53 Pricing</a> .</p>
</div>
</blockquote>
<p>HealthThreshold -&gt; (integer)</p>
<blockquote>
<div>
<p>The number of child health checks that are associated with a <tt class="docutils literal"><span class="pre">CALCULATED</span></tt> health check that Amazon Route 53 must consider healthy for the <tt class="docutils literal"><span class="pre">CALCULATED</span></tt> health check to be considered healthy. To specify the child health checks that you want to associate with a <tt class="docutils literal"><span class="pre">CALCULATED</span></tt> health check, use the <a class="reference external" href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_UpdateHealthCheck.html#Route53-UpdateHealthCheck-request-ChildHealthChecks">ChildHealthChecks</a> element.</p>
<p>Note the following:</p>
<ul class="simple">
<li>If you specify a number greater than the number of child health checks, Route 53 always considers this health check to be unhealthy.</li>
<li>If you specify <tt class="docutils literal"><span class="pre">0</span></tt> , Route 53 always considers this health check to be healthy.</li>
</ul>
</div>
</blockquote>
<p>ChildHealthChecks -&gt; (list)</p>
<blockquote>
<div>
<p>(CALCULATED Health Checks Only) A complex type that contains one <tt class="docutils literal"><span class="pre">ChildHealthCheck</span></tt> element for each health check that you want to associate with a <tt class="docutils literal"><span class="pre">CALCULATED</span></tt> health check.</p>
<p>(string)</p>
</div>
</blockquote>
<p>EnableSNI -&gt; (boolean)</p>
<blockquote>
<div>
<p>Specify whether you want Amazon Route 53 to send the value of <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> to the endpoint in the <tt class="docutils literal"><span class="pre">client_hello</span></tt> message during TLS negotiation. This allows the endpoint to respond to <tt class="docutils literal"><span class="pre">HTTPS</span></tt> health check requests with the applicable SSL/TLS certificate.</p>
<p>Some endpoints require that <tt class="docutils literal"><span class="pre">HTTPS</span></tt> requests include the host name in the <tt class="docutils literal"><span class="pre">client_hello</span></tt> message. If you don't enable SNI, the status of the health check will be <tt class="docutils literal"><span class="pre">SSL</span> <span class="pre">alert</span> <span class="pre">handshake_failure</span></tt> . A health check can also have that status for other reasons. If SNI is enabled and you're still getting the error, check the SSL/TLS configuration on your endpoint and confirm that your certificate is valid.</p>
<p>The SSL/TLS certificate on your endpoint includes a domain name in the <tt class="docutils literal"><span class="pre">Common</span> <span class="pre">Name</span></tt> field and possibly several more in the <tt class="docutils literal"><span class="pre">Subject</span> <span class="pre">Alternative</span> <span class="pre">Names</span></tt> field. One of the domain names in the certificate should match the value that you specify for <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> . If the endpoint responds to the <tt class="docutils literal"><span class="pre">client_hello</span></tt> message with a certificate that does not include the domain name that you specified in <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> , a health checker will retry the handshake. In the second attempt, the health checker will omit <tt class="docutils literal"><span class="pre">FullyQualifiedDomainName</span></tt> from the <tt class="docutils literal"><span class="pre">client_hello</span></tt> message.</p>
</div>
</blockquote>
<p>Regions -&gt; (list)</p>
<blockquote>
<div>
<p>A complex type that contains one <tt class="docutils literal"><span class="pre">Region</span></tt> element for each region from which you want Amazon Route 53 health checkers to check the specified endpoint.</p>
<p>If you don't specify any regions, Route 53 health checkers automatically performs checks from all of the regions that are listed under <strong>Valid Values</strong> .</p>
<p>If you update a health check to remove a region that has been performing health checks, Route 53 will briefly continue to perform checks from that region to ensure that some health checkers are always checking the endpoint (for example, if you replace three regions with four different regions).</p>
<p>(string)</p>
</div>
</blockquote>
<p>AlarmIdentifier -&gt; (structure)</p>
<blockquote>
<div>
<p>A complex type that identifies the CloudWatch alarm that you want Amazon Route 53 health checkers to use to determine whether the specified health check is healthy.</p>
<p>Region -&gt; (string)</p>
<blockquote>
<div>
<p>For the CloudWatch alarm that you want Route 53 health checkers to use to determine whether this health check is healthy, the region that the alarm was created in.</p>
<p>For the current list of CloudWatch regions, see <a class="reference external" href="http://docs.aws.amazon.com/general/latest/gr/rande.html#cw_region">Amazon CloudWatch</a> in the <em>AWS Regions and Endpoints</em> chapter of the <em>Amazon Web Services General Reference</em> .</p>
</div>
</blockquote>
<p>Name -&gt; (string)</p>
<blockquote>
<div>
<p>The name of the CloudWatch alarm that you want Amazon Route 53 health checkers to use to determine whether this health check is healthy.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Route 53 supports CloudWatch alarms with the following features:</p>
<ul class="last simple">
<li>Standard-resolution metrics. High-resolution metrics aren't supported. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/publishingMetrics.html#high-resolution-metrics">High-Resolution Metrics</a> in the <em>Amazon CloudWatch User Guide</em> .</li>
<li>Statistics: Average, Minimum, Maximum, Sum, and SampleCount. Extended statistics aren't supported.</li>
</ul>
</div>
</div>
</blockquote>
</div>
</blockquote>
<p>InsufficientDataHealthStatus -&gt; (string)</p>
<blockquote>
<div>
<p>When CloudWatch has insufficient data about the metric to determine the alarm state, the status that you want Amazon Route 53 to assign to the health check:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Healthy</span></tt> : Route 53 considers the health check to be healthy.</li>
<li>
<tt class="docutils literal"><span class="pre">Unhealthy</span></tt> : Route 53 considers the health check to be unhealthy.</li>
<li>
<tt class="docutils literal"><span class="pre">LastKnownStatus</span></tt> : Route 53 uses the status of the health check from the last time that CloudWatch had sufficient data to determine the alarm state. For new health checks that have no last known status, the default status for the health check is healthy.</li>
</ul>
</div>
</blockquote>
</div>
</blockquote>
<p>HealthCheckVersion -&gt; (long)</p>
<blockquote>
<div>The version of the health check. You can optionally pass this value in a call to <tt class="docutils literal"><span class="pre">UpdateHealthCheck</span></tt> to prevent overwriting another change to the health check.</div>
</blockquote>
<p>CloudWatchAlarmConfiguration -&gt; (structure)</p>
<blockquote>
<div>
<p>A complex type that contains information about the CloudWatch alarm that Amazon Route 53 is monitoring for this health check.</p>
<p>EvaluationPeriods -&gt; (integer)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the number of periods that the metric is compared to the threshold.</div>
</blockquote>
<p>Threshold -&gt; (double)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the value the metric is compared with.</div>
</blockquote>
<p>ComparisonOperator -&gt; (string)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the arithmetic operation that is used for the comparison.</div>
</blockquote>
<p>Period -&gt; (integer)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the duration of one evaluation period in seconds.</div>
</blockquote>
<p>MetricName -&gt; (string)</p>
<blockquote>
<div>The name of the CloudWatch metric that the alarm is associated with.</div>
</blockquote>
<p>Namespace -&gt; (string)</p>
<blockquote>
<div>The namespace of the metric that the alarm is associated with. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/CW_Support_For_AWS.html">Amazon CloudWatch Namespaces, Dimensions, and Metrics Reference</a> in the <em>Amazon CloudWatch User Guide</em> .</div>
</blockquote>
<p>Statistic -&gt; (string)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the statistic that is applied to the metric.</div>
</blockquote>
<p>Dimensions -&gt; (list)</p>
<blockquote>
<div>
<p>For the metric that the CloudWatch alarm is associated with, a complex type that contains information about the dimensions for the metric. For information, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/CW_Support_For_AWS.html">Amazon CloudWatch Namespaces, Dimensions, and Metrics Reference</a> in the <em>Amazon CloudWatch User Guide</em> .</p>
<p>(structure)</p>
<blockquote>
<div>
<p>For the metric that the CloudWatch alarm is associated with, a complex type that contains information about one dimension.</p>
<p>Name -&gt; (string)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the name of one dimension.</div>
</blockquote>
<p>Value -&gt; (string)</p>
<blockquote>
<div>For the metric that the CloudWatch alarm is associated with, the value of one dimension.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>Location -&gt; (string)</p>
<blockquote>
<div>The unique URL representing the new health check.</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
