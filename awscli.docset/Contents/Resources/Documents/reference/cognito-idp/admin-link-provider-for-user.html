<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>admin-link-provider-for-user — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="cognito-idp" href="index.html">
    <link rel="next" title="admin-list-devices" href="admin-list-devices.html">
    <link rel="prev" title="admin-initiate-auth" href="admin-initiate-auth.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="admin-link-provider-for-user">
<span id="cli-aws-cognito-idp-admin-link-provider-for-user"></span><h1>admin-link-provider-for-user<a class="headerlink" href="#admin-link-provider-for-user" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Links an existing user account in a user pool (<tt class="docutils literal"><span class="pre">DestinationUser</span></tt> ) to an identity from an external identity provider (<tt class="docutils literal"><span class="pre">SourceUser</span></tt> ) based on a specified attribute name and value from the external identity provider. This allows you to create a link from the existing user account to an external federated user identity that has not yet been used to sign in, so that the federated user identity can be used to sign in as the existing user account.</p>
<p>For example, if there is an existing user with a username and password, this API links that user to a federated user identity, so that when the federated user identity is used, the user signs in as the existing user account.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Because this API allows a user with an external federated identity to sign in as an existing user in the user pool, it is critical that it only be used with external identity providers and provider attributes that have been trusted by the application owner.</p>
</div>
<p>See also .</p>
<p>This action is enabled only for admin access and requires developer credentials.</p>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/cognito-idp-2016-04-18/AdminLinkProviderForUser">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  admin-link-provider-for-user
--user-pool-id &lt;value&gt;
--destination-user &lt;value&gt;
--source-user &lt;value&gt;
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--user-pool-id</span></tt> (string)</p>
<blockquote>
<div>The user pool ID for the user pool.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--destination-user</span></tt> (structure)</p>
<blockquote>
<div>
<p>The existing user in the user pool to be linked to the external identity provider user account. Can be a native (Username + Password) Cognito User Pools user or a federated user (for example, a SAML or Facebook user). If the user doesn't exist, an exception is thrown. This is the user that is returned when the new user (with the linked identity provider attribute) signs in.</p>
<p>For a native username + password user, the <tt class="docutils literal"><span class="pre">ProviderAttributeValue</span></tt> for the <tt class="docutils literal"><span class="pre">DestinationUser</span></tt> should be the username in the user pool. For a federated user, it should be the provider-specific <tt class="docutils literal"><span class="pre">user_id</span></tt> .</p>
<p>The <tt class="docutils literal"><span class="pre">ProviderAttributeName</span></tt> of the <tt class="docutils literal"><span class="pre">DestinationUser</span></tt> is ignored.</p>
<p>The <tt class="docutils literal"><span class="pre">ProviderName</span></tt> should be set to <tt class="docutils literal"><span class="pre">Cognito</span></tt> for users in Cognito user pools.</p>
</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">ProviderName</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">ProviderAttributeName</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">ProviderAttributeValue</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"ProviderName"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"ProviderAttributeName"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"ProviderAttributeValue"</span><span class="p">:</span> <span class="s2">"string"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--source-user</span></tt> (structure)</p>
<blockquote>
<div>
<p>An external identity provider account for a user who does not currently exist yet in the user pool. This user must be a federated user (for example, a SAML or Facebook user), not another native user.</p>
<p>If the <tt class="docutils literal"><span class="pre">SourceUser</span></tt> is a federated social identity provider user (Facebook, Google, or Login with Amazon), you must set the <tt class="docutils literal"><span class="pre">ProviderAttributeName</span></tt> to <tt class="docutils literal"><span class="pre">Cognito_Subject</span></tt> . For social identity providers, the <tt class="docutils literal"><span class="pre">ProviderName</span></tt> will be <tt class="docutils literal"><span class="pre">Facebook</span></tt> , <tt class="docutils literal"><span class="pre">Google</span></tt> , or <tt class="docutils literal"><span class="pre">LoginWithAmazon</span></tt> , and Cognito will automatically parse the Facebook, Google, and Login with Amazon tokens for <tt class="docutils literal"><span class="pre">id</span></tt> , <tt class="docutils literal"><span class="pre">sub</span></tt> , and <tt class="docutils literal"><span class="pre">user_id</span></tt> , respectively. The <tt class="docutils literal"><span class="pre">ProviderAttributeValue</span></tt> for the user must be the same value as the <tt class="docutils literal"><span class="pre">id</span></tt> , <tt class="docutils literal"><span class="pre">sub</span></tt> , or <tt class="docutils literal"><span class="pre">user_id</span></tt> value found in the social identity provider token.</p>
<p>For SAML, the <tt class="docutils literal"><span class="pre">ProviderAttributeName</span></tt> can be any value that matches a claim in the SAML assertion. If you wish to link SAML users based on the subject of the SAML assertion, you should map the subject to a claim through the SAML identity provider and submit that claim name as the <tt class="docutils literal"><span class="pre">ProviderAttributeName</span></tt> . If you set <tt class="docutils literal"><span class="pre">ProviderAttributeName</span></tt> to <tt class="docutils literal"><span class="pre">Cognito_Subject</span></tt> , Cognito will automatically parse the default unique identifier found in the subject from the SAML token.</p>
</div>
</blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">ProviderName</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">ProviderAttributeName</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">ProviderAttributeValue</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"ProviderName"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"ProviderAttributeName"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"ProviderAttributeValue"</span><span class="p">:</span> <span class="s2">"string"</span>
<span class="p">}</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>None</p>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
