<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>cp — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="s3" href="index.html">
    <link rel="next" title="ls" href="ls.html">
    <link rel="prev" title="s3" href="index.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="cp">
<span id="cli-aws-s3-cp"></span><h1>cp<a class="headerlink" href="#cp" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Copies a local file or S3 object to another location locally or in S3.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  cp
&lt;LocalPath&gt; &lt;S3Uri&gt; or &lt;S3Uri&gt; &lt;LocalPath&gt; or &lt;S3Uri&gt; &lt;S3Uri&gt;
[--dryrun]
[--quiet]
[--include &lt;value&gt;]
[--exclude &lt;value&gt;]
[--acl &lt;value&gt;]
[--follow-symlinks | --no-follow-symlinks]
[--no-guess-mime-type]
[--sse &lt;value&gt;]
[--sse-c &lt;value&gt;]
[--sse-c-key &lt;value&gt;]
[--sse-kms-key-id &lt;value&gt;]
[--sse-c-copy-source &lt;value&gt;]
[--sse-c-copy-source-key &lt;value&gt;]
[--storage-class &lt;value&gt;]
[--grants &lt;value&gt; [&lt;value&gt;...]]
[--website-redirect &lt;value&gt;]
[--content-type &lt;value&gt;]
[--cache-control &lt;value&gt;]
[--content-disposition &lt;value&gt;]
[--content-encoding &lt;value&gt;]
[--content-language &lt;value&gt;]
[--expires &lt;value&gt;]
[--source-region &lt;value&gt;]
[--only-show-errors]
[--no-progress]
[--page-size &lt;value&gt;]
[--ignore-glacier-warnings]
[--force-glacier-transfer]
[--request-payer &lt;value&gt;]
[--metadata &lt;value&gt;]
[--metadata-directive &lt;value&gt;]
[--expected-size &lt;value&gt;]
[--recursive]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">paths</span></tt> (string)</p>
<p><tt class="docutils literal"><span class="pre">--dryrun</span></tt> (boolean)
Displays the operations that would be performed using the specified command without actually running them.</p>
<p><tt class="docutils literal"><span class="pre">--quiet</span></tt> (boolean)
Does not display the operations performed from the specified command.</p>
<p><tt class="docutils literal"><span class="pre">--include</span></tt> (string)
Don't exclude files or objects in the command that match the specified pattern. See <a class="reference external" href="http://docs.aws.amazon.com/cli/latest/reference/s3/index.html#use-of-exclude-and-include-filters">Use of Exclude and Include Filters</a> for details.</p>
<p><tt class="docutils literal"><span class="pre">--exclude</span></tt> (string)
Exclude all files or objects from the command that matches the specified pattern.</p>
<p><tt class="docutils literal"><span class="pre">--acl</span></tt> (string)
Sets the ACL for the object when the command is performed. If you use this parameter you must have the "s3:PutObjectAcl" permission included in the list of actions for your IAM policy. Only accepts values of <tt class="docutils literal"><span class="pre">private</span></tt>, <tt class="docutils literal"><span class="pre">public-read</span></tt>, <tt class="docutils literal"><span class="pre">public-read-write</span></tt>, <tt class="docutils literal"><span class="pre">authenticated-read</span></tt>, <tt class="docutils literal"><span class="pre">aws-exec-read</span></tt>, <tt class="docutils literal"><span class="pre">bucket-owner-read</span></tt>, <tt class="docutils literal"><span class="pre">bucket-owner-full-control</span></tt> and <tt class="docutils literal"><span class="pre">log-delivery-write</span></tt>. See <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">Canned ACL</a> for details</p>
<p><tt class="docutils literal"><span class="pre">--follow-symlinks</span></tt> | <tt class="docutils literal"><span class="pre">--no-follow-symlinks</span></tt> (boolean)
Symbolic links are followed only when uploading to S3 from the local filesystem. Note that S3 does not support symbolic links, so the contents of the link target are uploaded under the name of the link. When neither <tt class="docutils literal"><span class="pre">--follow-symlinks</span></tt> nor <tt class="docutils literal"><span class="pre">--no-follow-symlinks</span></tt> is specified, the default is to follow symlinks.</p>
<p><tt class="docutils literal"><span class="pre">--no-guess-mime-type</span></tt> (boolean)
Do not try to guess the mime type for uploaded files. By default the mime type of a file is guessed when it is uploaded.</p>
<p><tt class="docutils literal"><span class="pre">--sse</span></tt> (string)
Specifies server-side encryption of the object in S3. Valid values are <tt class="docutils literal"><span class="pre">AES256</span></tt> and <tt class="docutils literal"><span class="pre">aws:kms</span></tt>. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used.</p>
<p><tt class="docutils literal"><span class="pre">--sse-c</span></tt> (string)
Specifies server-side encryption using customer provided keys of the the object in S3. <tt class="docutils literal"><span class="pre">AES256</span></tt> is the only valid value. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-key</span></tt> must be specified as well.</p>
<p><tt class="docutils literal"><span class="pre">--sse-c-key</span></tt> (blob)
The customer-provided encryption key to use to server-side encrypt the object in S3. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c</span></tt> must be specified as well. The key provided should <strong>not</strong> be base64 encoded.</p>
<p><tt class="docutils literal"><span class="pre">--sse-kms-key-id</span></tt> (string)
The customer-managed AWS Key Management Service (KMS) key ID that should be used to server-side encrypt the object in S3. You should only provide this parameter if you are using a customer managed customer master key (CMK) and not the AWS managed KMS CMK.</p>
<p><tt class="docutils literal"><span class="pre">--sse-c-copy-source</span></tt> (string)
This parameter should only be specified when copying an S3 object that was encrypted server-side with a customer-provided key. It specifies the algorithm to use when decrypting the source object. <tt class="docutils literal"><span class="pre">AES256</span></tt> is the only valid value. If the parameter is specified but no value is provided, <tt class="docutils literal"><span class="pre">AES256</span></tt> is used. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-copy-source-key</span></tt> must be specified as well.</p>
<p><tt class="docutils literal"><span class="pre">--sse-c-copy-source-key</span></tt> (blob)
This parameter should only be specified when copying an S3 object that was encrypted server-side with a customer-provided key. Specifies the customer-provided encryption key for Amazon S3 to use to decrypt the source object. The encryption key provided must be one that was used when the source object was created. If you provide this value, <tt class="docutils literal"><span class="pre">--sse-c-copy-source</span></tt> be specified as well. The key provided should <strong>not</strong> be base64 encoded.</p>
<p><tt class="docutils literal"><span class="pre">--storage-class</span></tt> (string)
The type of storage to use for the object. Valid choices are: STANDARD | REDUCED_REDUNDANCY | STANDARD_IA | ONEZONE_IA | INTELLIGENT_TIERING | GLACIER | DEEP_ARCHIVE. Defaults to 'STANDARD'</p>
<p><tt class="docutils literal"><span class="pre">--grants</span></tt> (string)</p>
<blockquote>
<div>
<p>Grant specific permissions to individual users or groups. You can supply a list of grants of the form</p>
<div class="highlight-python">
<pre>--grants Permission=Grantee_Type=Grantee_ID [Permission=Grantee_Type=Grantee_ID ...]</pre>
</div>
<p>To specify the same permission type for multiple grantees, specify the permission as such as</p>
<div class="highlight-python">
<pre>--grants Permission=Grantee_Type=Grantee_ID,Grantee_Type=Grantee_ID,...</pre>
</div>
<p>Each value contains the following elements:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">Permission</span></tt> - Specifies the granted permissions, and can be set to read, readacl, writeacl, or full.</li>
<li>
<tt class="docutils literal"><span class="pre">Grantee_Type</span></tt> - Specifies how the grantee is to be identified, and can be set to uri or id.</li>
<li>
<tt class="docutils literal"><span class="pre">Grantee_ID</span></tt> - Specifies the grantee based on Grantee_Type. The <tt class="docutils literal"><span class="pre">Grantee_ID</span></tt> value can be one of:<ul>
<li>
<strong>uri</strong> - The group's URI. For more information, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ACLOverview.html#SpecifyingGrantee">Who Is a Grantee?</a>
</li>
<li>
<strong>id</strong> - The account's canonical ID</li>
</ul>
</li>
</ul>
<p>For more information on Amazon S3 access control, see <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingAuthAccess.html">Access Control</a></p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--website-redirect</span></tt> (string)
If the bucket is configured as a website, redirects requests for this object to another object in the same bucket or to an external URL. Amazon S3 stores the value of this header in the object metadata.</p>
<p><tt class="docutils literal"><span class="pre">--content-type</span></tt> (string)
Specify an explicit content type for this operation. This value overrides any guessed mime types.</p>
<p><tt class="docutils literal"><span class="pre">--cache-control</span></tt> (string)
Specifies caching behavior along the request/reply chain.</p>
<p><tt class="docutils literal"><span class="pre">--content-disposition</span></tt> (string)
Specifies presentational information for the object.</p>
<p><tt class="docutils literal"><span class="pre">--content-encoding</span></tt> (string)
Specifies what content encodings have been applied to the object and thus what decoding mechanisms must be applied to obtain the media-type referenced by the Content-Type header field.</p>
<p><tt class="docutils literal"><span class="pre">--content-language</span></tt> (string)
The language the content is in.</p>
<p><tt class="docutils literal"><span class="pre">--expires</span></tt> (string)
The date and time at which the object is no longer cacheable.</p>
<p><tt class="docutils literal"><span class="pre">--source-region</span></tt> (string)
When transferring objects from an s3 bucket to an s3 bucket, this specifies the region of the source bucket. Note the region specified by <tt class="docutils literal"><span class="pre">--region</span></tt> or through configuration of the CLI refers to the region of the destination bucket. If <tt class="docutils literal"><span class="pre">--source-region</span></tt> is not specified the region of the source will be the same as the region of the destination bucket.</p>
<p><tt class="docutils literal"><span class="pre">--only-show-errors</span></tt> (boolean)
Only errors and warnings are displayed. All other output is suppressed.</p>
<p><tt class="docutils literal"><span class="pre">--no-progress</span></tt> (boolean)
File transfer progress is not displayed. This flag is only applied when the quiet and only-show-errors flags are not provided.</p>
<p><tt class="docutils literal"><span class="pre">--page-size</span></tt> (integer)
The number of results to return in each response to a list operation. The default value is 1000 (the maximum allowed). Using a lower value may help if an operation times out.</p>
<p><tt class="docutils literal"><span class="pre">--ignore-glacier-warnings</span></tt> (boolean)
Turns off glacier warnings. Warnings about an operation that cannot be performed because it involves copying, downloading, or moving a glacier object will no longer be printed to standard error and will no longer cause the return code of the command to be <tt class="docutils literal"><span class="pre">2</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">--force-glacier-transfer</span></tt> (boolean)
Forces a transfer request on all Glacier objects in a sync or recursive copy.</p>
<p><tt class="docutils literal"><span class="pre">--request-payer</span></tt> (string)
Confirms that the requester knows that she or he will be charged for the request. Bucket owners need not specify this parameter in their requests. Documentation on downloading objects from requester pays buckets can be found at <a class="reference external" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ObjectsinRequesterPaysBuckets.html">http://docs.aws.amazon.com/AmazonS3/latest/dev/ObjectsinRequesterPaysBuckets.html</a></p>
<p><tt class="docutils literal"><span class="pre">--metadata</span></tt> (map)
A map of metadata to store with the objects in S3. This will be applied to every object which is part of this request. In a sync, this means that files which haven't changed won't receive the new metadata. When copying between two s3 locations, the metadata-directive argument will default to 'REPLACE' unless otherwise specified.</p>
<p>Shorthand Syntax:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="n">KeyName1</span><span class="o">=</span><span class="n">string</span><span class="p">,</span><span class="n">KeyName2</span><span class="o">=</span><span class="n">string</span>
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-python">
<pre>{"string": "string"
  ...}</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--metadata-directive</span></tt> (string)
Specifies whether the metadata is copied from the source object or replaced with metadata provided when copying S3 objects. Note that if the object is copied over in parts, the source object's metadata will not be copied over, no matter the value for <tt class="docutils literal"><span class="pre">--metadata-directive</span></tt>, and instead the desired metadata values must be specified as parameters on the command line. Valid values are <tt class="docutils literal"><span class="pre">COPY</span></tt> and <tt class="docutils literal"><span class="pre">REPLACE</span></tt>. If this parameter is not specified, <tt class="docutils literal"><span class="pre">COPY</span></tt> will be used by default. If <tt class="docutils literal"><span class="pre">REPLACE</span></tt> is used, the copied object will only have the metadata values that were specified by the CLI command. Note that if you are using any of the following parameters: <tt class="docutils literal"><span class="pre">--content-type</span></tt>, <tt class="docutils literal"><span class="pre">content-language</span></tt>, <tt class="docutils literal"><span class="pre">--content-encoding</span></tt>, <tt class="docutils literal"><span class="pre">--content-disposition</span></tt>, <tt class="docutils literal"><span class="pre">--cache-control</span></tt>, or <tt class="docutils literal"><span class="pre">--expires</span></tt>, you will need to specify <tt class="docutils literal"><span class="pre">--metadata-directive</span> <span class="pre">REPLACE</span></tt> for non-multipart copies if you want the copied objects to have the specified metadata values.</p>
<p><tt class="docutils literal"><span class="pre">--expected-size</span></tt> (string)
This argument specifies the expected size of a stream in terms of bytes. Note that this argument is needed only when a stream is being uploaded to s3 and the size is larger than 50GB. Failure to include this argument under these conditions may result in a failed upload due to too many parts in upload.</p>
<p><tt class="docutils literal"><span class="pre">--recursive</span></tt> (boolean)
Command is performed on all files or objects under the specified directory or prefix.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>Copying a local file to S3</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single file to a specified
bucket and key:</p>
<div class="highlight-python">
<pre>aws s3 cp test.txt s3://mybucket/test2.txt</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>upload: test.txt to s3://mybucket/test2.txt</pre>
</div>
<p><strong>Copying a local file to S3 with an expiration date</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single file to a specified
bucket and key that expires at the specified ISO 8601 timestamp:</p>
<div class="highlight-python">
<pre>aws s3 cp test.txt s3://mybucket/test2.txt --expires 2014-10-01T20:30:00Z</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>upload: test.txt to s3://mybucket/test2.txt</pre>
</div>
<p><strong>Copying a file from S3 to S3</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single s3 object to a specified bucket and key:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/test.txt s3://mybucket/test2.txt</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>copy: s3://mybucket/test.txt to s3://mybucket/test2.txt</pre>
</div>
<p><strong>Copying an S3 object to a local file</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single object to a specified file locally:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/test.txt test2.txt</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>download: s3://mybucket/test.txt to test2.txt</pre>
</div>
<p><strong>Copying an S3 object from one bucket to another</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single object to a specified bucket while retaining its original name:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/test.txt s3://mybucket2/</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>copy: s3://mybucket/test.txt to s3://mybucket2/test.txt</pre>
</div>
<p><strong>Recursively copying S3 objects to a local directory</strong></p>
<p>When passed with the parameter <tt class="docutils literal"><span class="pre">--recursive</span></tt>, the following <tt class="docutils literal"><span class="pre">cp</span></tt> command recursively copies all objects under a
specified prefix and bucket to a specified directory.  In this example, the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> has the objects
<tt class="docutils literal"><span class="pre">test1.txt</span></tt> and <tt class="docutils literal"><span class="pre">test2.txt</span></tt>:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket . --recursive</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>download: s3://mybucket/test1.txt to test1.txt
download: s3://mybucket/test2.txt to test2.txt</pre>
</div>
<p><strong>Recursively copying local files to S3</strong></p>
<p>When passed with the parameter <tt class="docutils literal"><span class="pre">--recursive</span></tt>, the following <tt class="docutils literal"><span class="pre">cp</span></tt> command recursively copies all files under a
specified directory to a specified bucket and prefix while excluding some files by using an <tt class="docutils literal"><span class="pre">--exclude</span></tt> parameter.  In
this example, the directory <tt class="docutils literal"><span class="pre">myDir</span></tt> has the files <tt class="docutils literal"><span class="pre">test1.txt</span></tt> and <tt class="docutils literal"><span class="pre">test2.jpg</span></tt>:</p>
<div class="highlight-python">
<pre>aws s3 cp myDir s3://mybucket/ --recursive --exclude "*.jpg"</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>upload: myDir/test1.txt to s3://mybucket/test1.txt</pre>
</div>
<p><strong>Recursively copying S3 objects to another bucket</strong></p>
<p>When passed with the parameter <tt class="docutils literal"><span class="pre">--recursive</span></tt>, the following <tt class="docutils literal"><span class="pre">cp</span></tt> command recursively copies all objects under a
specified bucket to another bucket while excluding some objects by using an <tt class="docutils literal"><span class="pre">--exclude</span></tt> parameter.  In this example,
the bucket <tt class="docutils literal"><span class="pre">mybucket</span></tt> has the objects <tt class="docutils literal"><span class="pre">test1.txt</span></tt> and <tt class="docutils literal"><span class="pre">another/test1.txt</span></tt>:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/ s3://mybucket2/ --recursive --exclude "another/*"</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>copy: s3://mybucket/test1.txt to s3://mybucket2/test1.txt</pre>
</div>
<p>You can combine <tt class="docutils literal"><span class="pre">--exclude</span></tt> and <tt class="docutils literal"><span class="pre">--include</span></tt> options to copy only objects that match a pattern, excluding all others:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/logs/ s3://mybucket2/logs/ --recursive --exclude "*" --include "*.log"</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>copy: s3://mybucket/logs/test/test.log to s3://mybucket2/logs/test/test.log
copy: s3://mybucket/logs/test3.log to s3://mybucket2/logs/test3.log</pre>
</div>
<p><strong>Setting the Access Control List (ACL) while copying an S3 object</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command copies a single object to a specified bucket and key while setting the ACL to
<tt class="docutils literal"><span class="pre">public-read-write</span></tt>:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/test.txt s3://mybucket/test2.txt --acl public-read-write</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>copy: s3://mybucket/test.txt to s3://mybucket/test2.txt</pre>
</div>
<p>Note that if you're using the <tt class="docutils literal"><span class="pre">--acl</span></tt> option, ensure that any associated IAM
policies include the <tt class="docutils literal"><span class="pre">"s3:PutObjectAcl"</span></tt> action:</p>
<div class="highlight-python">
<pre>aws iam get-user-policy --user-name myuser --policy-name mypolicy</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"UserName"</span><span class="p">:</span> <span class="s2">"myuser"</span><span class="p">,</span>
    <span class="s2">"PolicyName"</span><span class="p">:</span> <span class="s2">"mypolicy"</span><span class="p">,</span>
    <span class="s2">"PolicyDocument"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Version"</span><span class="p">:</span> <span class="s2">"2012-10-17"</span><span class="p">,</span>
        <span class="s2">"Statement"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">"Action"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"s3:PutObject"</span><span class="p">,</span>
                    <span class="s2">"s3:PutObjectAcl"</span>
                <span class="p">],</span>
                <span class="s2">"Resource"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"arn:aws:s3:::mybucket/*"</span>
                <span class="p">],</span>
                <span class="s2">"Effect"</span><span class="p">:</span> <span class="s2">"Allow"</span><span class="p">,</span>
                <span class="s2">"Sid"</span><span class="p">:</span> <span class="s2">"Stmt1234567891234"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Granting permissions for an S3 object</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command illustrates the use of the <tt class="docutils literal"><span class="pre">--grants</span></tt> option to grant read access to all users and full
control to a specific user identified by their URI:</p>
<div class="highlight-python">
<pre>aws s3 cp file.txt s3://mybucket/ --grants read=uri=http://acs.amazonaws.com/groups/global/AllUsers full=uri=79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be</pre>
</div>
<p>Output:</p>
<div class="highlight-python">
<pre>upload: file.txt to s3://mybucket/file.txt</pre>
</div>
<p><strong>Uploading a local file stream to S3</strong></p>
<p>WARNING:: PowerShell may alter the encoding of or add a CRLF to piped input.</p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command uploads a local file stream from standard input to a specified bucket and key:</p>
<div class="highlight-python">
<pre>aws s3 cp - s3://mybucket/stream.txt</pre>
</div>
<p><strong>Downloading an S3 object as a local file stream</strong></p>
<p>WARNING:: PowerShell may alter the encoding of or add a CRLF to piped or redirected output.</p>
<p>The following <tt class="docutils literal"><span class="pre">cp</span></tt> command downloads an S3 object locally as a stream to standard output. Downloading as a stream is not currently compatible with the <tt class="docutils literal"><span class="pre">--recursive</span></tt> parameter:</p>
<div class="highlight-python">
<pre>aws s3 cp s3://mybucket/stream.txt -</pre>
</div>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
