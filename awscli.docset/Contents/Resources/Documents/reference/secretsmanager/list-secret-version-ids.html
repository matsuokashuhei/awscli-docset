<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>list-secret-version-ids — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="secretsmanager" href="index.html">
    <link rel="next" title="list-secrets" href="list-secrets.html">
    <link rel="prev" title="get-secret-value" href="get-secret-value.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="list-secret-version-ids">
<span id="cli-aws-secretsmanager-list-secret-version-ids"></span><h1>list-secret-version-ids<a class="headerlink" href="#list-secret-version-ids" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Lists all of the versions attached to the specified secret. The output does not include the <tt class="docutils literal"><span class="pre">SecretString</span></tt> or <tt class="docutils literal"><span class="pre">SecretBinary</span></tt> fields. By default, the list includes only versions that have at least one staging label in <tt class="docutils literal"><span class="pre">VersionStage</span></tt> attached.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<blockquote>
<div>Always check the <tt class="docutils literal"><span class="pre">NextToken</span></tt> response parameter when calling any of the <tt class="docutils literal"><span class="pre">List*</span></tt> operations. These operations can occasionally return an empty or shorter than expected list of results even when there are more results available. When this happens, the <tt class="docutils literal"><span class="pre">NextToken</span></tt> response parameter contains a value to pass to the next call to the same API to request the next part of the list.</div>
</blockquote>
<p class="last"><strong>Minimum permissions</strong></p>
</div>
<p>To run this command, you must have the following permissions:</p>
<ul class="simple">
<li>secretsmanager:ListSecretVersionIds</li>
</ul>
<blockquote>
<div><strong>Related operations</strong></div>
</blockquote>
<ul class="simple">
<li>To list the secrets in an account, use  ListSecrets .</li>
</ul>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/secretsmanager-2017-10-17/ListSecretVersionIds">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  list-secret-version-ids
--secret-id &lt;value&gt;
[--max-results &lt;value&gt;]
[--next-token &lt;value&gt;]
[--include-deprecated | --no-include-deprecated]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--secret-id</span></tt> (string)</p>
<blockquote>
<div>
<p>The identifier for the secret containing the versions you want to list. You can specify either the Amazon Resource Name (ARN) or the friendly name of the secret.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you specify an ARN, we generally recommend that you specify a complete ARN. You can specify a partial ARN too—for example, if you don’t include the final hyphen and six random characters that Secrets Manager adds at the end of the ARN when you created the secret. A partial ARN match can work as long as it uniquely matches only one secret. However, if your secret has a name that ends in a hyphen followed by six characters (before Secrets Manager adds the hyphen and six characters to the ARN) and you try to use that as a partial ARN, then those characters cause Secrets Manager to assume that you’re specifying a complete ARN. This confusion can cause unexpected results. To avoid this situation, we recommend that you don’t create secret names that end with a hyphen followed by six characters.</p>
</div>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--max-results</span></tt> (integer)</p>
<blockquote>
<div>(Optional) Limits the number of results that you want to include in the response. If you don't include this parameter, it defaults to a value that's specific to the operation. If additional items exist beyond the maximum you specify, the <tt class="docutils literal"><span class="pre">NextToken</span></tt> response element is present and has a value (isn't null). Include that value as the <tt class="docutils literal"><span class="pre">NextToken</span></tt> request parameter in the next call to the operation to get the next part of the results. Note that Secrets Manager might return fewer results than the maximum even when there are more results available. You should check <tt class="docutils literal"><span class="pre">NextToken</span></tt> after every operation to ensure that you receive all of the results.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--next-token</span></tt> (string)</p>
<blockquote>
<div>(Optional) Use this parameter in a request if you receive a <tt class="docutils literal"><span class="pre">NextToken</span></tt> response in a previous request that indicates that there's more output available. In a subsequent call, set it to the value of the previous call's <tt class="docutils literal"><span class="pre">NextToken</span></tt> response to indicate where the output should continue from.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--include-deprecated</span></tt> | <tt class="docutils literal"><span class="pre">--no-include-deprecated</span></tt> (boolean)</p>
<blockquote>
<div>(Optional) Specifies that you want the results to include versions that do not have any staging labels attached to them. Such versions are considered deprecated and are subject to deletion by Secrets Manager as needed.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>To list all of the secret versions associated with a secret</strong></p>
<p>The following example shows how to retrieve a list of all of the versions of a secret, including those without any staging labels.</p>
<div class="highlight-python">
<pre>aws secretsmanager list-secret-version-ids --secret-id MyTestDatabaseSecret \
  --include-deprecated</pre>
</div>
<p>The output shows the following:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"Versions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"VersionId"</span><span class="p">:</span> <span class="s2">"EXAMPLE1-90ab-cdef-fedc-ba987EXAMPLE"</span><span class="p">,</span>
      <span class="s2">"VersionStages"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"AWSPREVIOUS"</span>
      <span class="p">],</span>
      <span class="s2">"CreatedDate"</span><span class="p">:</span> <span class="mf">1523477145.713</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"VersionId"</span><span class="p">:</span> <span class="s2">"EXAMPLE2-90ab-cdef-fedc-ba987EXAMPLE"</span><span class="p">,</span>
      <span class="s2">"VersionStages"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"AWSCURRENT"</span>
      <span class="p">],</span>
     <span class="s2">"CreatedDate"</span><span class="p">:</span> <span class="mf">1523486221.391</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"CreatedDate"</span><span class="p">:</span> <span class="mf">1.51197446236E9</span><span class="p">,</span>
      <span class="s2">"VersionId"</span><span class="p">:</span> <span class="s2">"EXAMPLE3-90ab-cdef-fedc-ba987EXAMPLE;"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"ARN"</span><span class="p">:</span> <span class="s2">"arn:aws:secretsmanager:us-west-2:123456789012:secret:MyTestDatabaseSecret-a1b2c3"</span><span class="p">,</span>
  <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"MyTestDatabaseSecret"</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>Versions -&gt; (list)</p>
<blockquote>
<div>
<p>The list of the currently available versions of the specified secret.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>A structure that contains information about one version of a secret.</p>
<p>VersionId -&gt; (string)</p>
<blockquote>
<div>The unique version identifier of this version of the secret.</div>
</blockquote>
<p>VersionStages -&gt; (list)</p>
<blockquote>
<div>
<p>An array of staging labels that are currently associated with this version of the secret.</p>
<p>(string)</p>
</div>
</blockquote>
<p>LastAccessedDate -&gt; (timestamp)</p>
<blockquote>
<div>The date that this version of the secret was last accessed. Note that the resolution of this field is at the date level and does not include the time.</div>
</blockquote>
<p>CreatedDate -&gt; (timestamp)</p>
<blockquote>
<div>The date and time this version of the secret was created.</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>NextToken -&gt; (string)</p>
<blockquote>
<div>If present in the response, this value indicates that there's more output available than what's included in the current response. This can occur even when the response includes no values at all, such as when you ask for a filtered view of a very long list. Use this value in the <tt class="docutils literal"><span class="pre">NextToken</span></tt> request parameter in a subsequent call to the operation to continue processing and get the next part of the output. You should repeat this until the <tt class="docutils literal"><span class="pre">NextToken</span></tt> response element comes back empty (as <tt class="docutils literal"><span class="pre">null</span></tt> ).</div>
</blockquote>
<p>ARN -&gt; (string)</p>
<blockquote>
<div>
<p>The Amazon Resource Name (ARN) for the secret.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Secrets Manager automatically adds several random characters to the name at the end of the ARN when you initially create a secret. This affects only the ARN and not the actual friendly name. This ensures that if you create a new secret with the same name as an old secret that you previously deleted, then users with access to the old secret <em>don't</em> automatically get access to the new secret because the ARNs are different.</p>
</div>
</div>
</blockquote>
<p>Name -&gt; (string)</p>
<blockquote>
<div>The friendly name of the secret.</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
