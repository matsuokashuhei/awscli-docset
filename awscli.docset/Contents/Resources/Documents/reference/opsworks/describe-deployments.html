<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
  
    <title>describe-deployments — AWS CLI 1.16.309 Command Reference</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css">
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js"></script>
  <script src="/SdkStatic/sdk-priv.js" async="true"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css">
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.16.309',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.16.309 Command Reference" href="../../index.html">
    <link rel="up" title="opsworks" href="index.html">
    <link rel="next" title="describe-ecs-clusters" href="describe-ecs-clusters.html">
    <link rel="prev" title="describe-commands" href="describe-commands.html">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css">
  
   

  </head>
  <body>
  
  
  <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->

    
    <div class="container">
        
    
  
        <div class="document clearer">
      
            <div class="body">
              
  
<div class="section" id="describe-deployments">
<span id="cli-aws-opsworks-describe-deployments"></span><h1>describe-deployments<a class="headerlink" href="#describe-deployments" title="Permalink to this headline">¶</a>
</h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a>
</h2>
<p>Requests a description of a specified set of deployments.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<blockquote>
<div>This call accepts only one resource-identifying parameter.</div>
</blockquote>
<p class="last"><strong>Required Permissions</strong> : To use this action, an IAM user must have a Show, Deploy, or Manage permissions level for the stack, or an attached policy that explicitly grants permissions. For more information about user permissions, see <a class="reference external" href="https://docs.aws.amazon.com/opsworks/latest/userguide/opsworks-security-users.html">Managing User Permissions</a> .</p>
</div>
<p>See also: <a class="reference external" href="https://docs.aws.amazon.com/goto/WebAPI/opsworks-2013-02-18/DescribeDeployments">AWS API Documentation</a></p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a>
</h2>
<div class="highlight-python">
<pre>  describe-deployments
[--stack-id &lt;value&gt;]
[--app-id &lt;value&gt;]
[--deployment-ids &lt;value&gt;]
[--cli-input-json &lt;value&gt;]
[--generate-cli-skeleton &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a>
</h2>
<p><tt class="docutils literal"><span class="pre">--stack-id</span></tt> (string)</p>
<blockquote>
<div>The stack ID. If you include this parameter, the command returns a description of the commands associated with the specified stack.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--app-id</span></tt> (string)</p>
<blockquote>
<div>The app ID. If you include this parameter, the command returns a description of the commands associated with the specified app.</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">--deployment-ids</span></tt> (list)</p>
<blockquote>
<div>An array of deployment IDs to be described. If you include this parameter, the command returns a description of the specified deployments. Otherwise, it returns a description of every deployment.</div>
</blockquote>
<p>Syntax:</p>
<div class="highlight-python">
<pre>"string" "string" ...</pre>
</div>
<p><tt class="docutils literal"><span class="pre">--cli-input-json</span></tt> (string)
Performs service operation based on the JSON string provided. The JSON string follows the format provided by <tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values. It is not possible to pass arbitrary binary values using a JSON-provided value as the string will be taken literally.</p>
<p><tt class="docutils literal"><span class="pre">--generate-cli-skeleton</span></tt> (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value <tt class="docutils literal"><span class="pre">input</span></tt>, prints a sample input JSON that can be used as an argument for <tt class="docutils literal"><span class="pre">--cli-input-json</span></tt>. If provided with the value <tt class="docutils literal"><span class="pre">output</span></tt>, it validates the command inputs and returns a sample output JSON for that command.</p>
<p>See <a class="reference internal" href="../index.html"><em>'aws help'</em></a> for descriptions of global parameters.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a>
</h2>
<p><strong>To describe deployments</strong></p>
<p>The following <tt class="docutils literal"><span class="pre">describe-deployments</span></tt> commmand describes the deployments in a specified stack.</p>
<div class="highlight-python">
<pre>aws opsworks --region us-east-1 describe-deployments --stack-id 38ee91e2-abdc-4208-a107-0b7168b3cc7a</pre>
</div>
<p><em>Output</em>:</p>
<div class="highlight-python">
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"Deployments"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
          <span class="s2">"StackId"</span><span class="p">:</span> <span class="s2">"38ee91e2-abdc-4208-a107-0b7168b3cc7a"</span><span class="p">,</span>
          <span class="s2">"Status"</span><span class="p">:</span> <span class="s2">"successful"</span><span class="p">,</span>
          <span class="s2">"CompletedAt"</span><span class="p">:</span> <span class="s2">"2013-07-25T18:57:49+00:00"</span><span class="p">,</span>
          <span class="s2">"DeploymentId"</span><span class="p">:</span> <span class="s2">"6ed0df4c-9ef7-4812-8dac-d54a05be1029"</span><span class="p">,</span>
          <span class="s2">"Command"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"Args"</span><span class="p">:</span> <span class="p">{},</span>
              <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"undeploy"</span>
          <span class="p">},</span>
          <span class="s2">"CreatedAt"</span><span class="p">:</span> <span class="s2">"2013-07-25T18:57:34+00:00"</span><span class="p">,</span>
          <span class="s2">"Duration"</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
          <span class="s2">"InstanceIds"</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">"8c2673b9-3fe5-420d-9cfa-78d875ee7687"</span><span class="p">,</span>
              <span class="s2">"9e588a25-35b2-4804-bd43-488f85ebe5b7"</span>
          <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
          <span class="s2">"StackId"</span><span class="p">:</span> <span class="s2">"38ee91e2-abdc-4208-a107-0b7168b3cc7a"</span><span class="p">,</span>
          <span class="s2">"Status"</span><span class="p">:</span> <span class="s2">"successful"</span><span class="p">,</span>
          <span class="s2">"CompletedAt"</span><span class="p">:</span> <span class="s2">"2013-07-25T18:56:41+00:00"</span><span class="p">,</span>
          <span class="s2">"IamUserArn"</span><span class="p">:</span> <span class="s2">"arn:aws:iam::123456789012:user/someuser"</span><span class="p">,</span>
          <span class="s2">"DeploymentId"</span><span class="p">:</span> <span class="s2">"19d3121e-d949-4ff2-9f9d-94eac087862a"</span><span class="p">,</span>
          <span class="s2">"Command"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"Args"</span><span class="p">:</span> <span class="p">{},</span>
              <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"deploy"</span>
          <span class="p">},</span>
          <span class="s2">"InstanceIds"</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">"8c2673b9-3fe5-420d-9cfa-78d875ee7687"</span><span class="p">,</span>
              <span class="s2">"9e588a25-35b2-4804-bd43-488f85ebe5b7"</span>
          <span class="p">],</span>
          <span class="s2">"Duration"</span><span class="p">:</span> <span class="mi">72</span><span class="p">,</span>
          <span class="s2">"CreatedAt"</span><span class="p">:</span> <span class="s2">"2013-07-25T18:55:29+00:00"</span>
      <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>More Information</strong></p>
<p>For more information, see <a class="reference external" href="http://docs.aws.amazon.com/opsworks/latest/userguide/workingapps-deploying.html">Deploying Apps</a> in the <em>AWS OpsWorks User Guide</em>.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a>
</h2>
<p>Deployments -&gt; (list)</p>
<blockquote>
<div>
<p>An array of <tt class="docutils literal"><span class="pre">Deployment</span></tt> objects that describe the deployments.</p>
<p>(structure)</p>
<blockquote>
<div>
<p>Describes a deployment of a stack or app.</p>
<p>DeploymentId -&gt; (string)</p>
<blockquote>
<div>The deployment ID.</div>
</blockquote>
<p>StackId -&gt; (string)</p>
<blockquote>
<div>The stack ID.</div>
</blockquote>
<p>AppId -&gt; (string)</p>
<blockquote>
<div>The app ID.</div>
</blockquote>
<p>CreatedAt -&gt; (string)</p>
<blockquote>
<div>Date when the deployment was created.</div>
</blockquote>
<p>CompletedAt -&gt; (string)</p>
<blockquote>
<div>Date when the deployment completed.</div>
</blockquote>
<p>Duration -&gt; (integer)</p>
<blockquote>
<div>The deployment duration.</div>
</blockquote>
<p>IamUserArn -&gt; (string)</p>
<blockquote>
<div>The user's IAM ARN.</div>
</blockquote>
<p>Comment -&gt; (string)</p>
<blockquote>
<div>A user-defined comment.</div>
</blockquote>
<p>Command -&gt; (structure)</p>
<blockquote>
<div>
<p>Used to specify a stack or deployment command.</p>
<p>Name -&gt; (string)</p>
<blockquote>
<div>
<p>Specifies the operation. You can specify only one command.</p>
<p>For stacks, the following commands are available:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">execute_recipes</span></tt> : Execute one or more recipes. To specify the recipes, set an <tt class="docutils literal"><span class="pre">Args</span></tt> parameter named <tt class="docutils literal"><span class="pre">recipes</span></tt> to the list of recipes to be executed. For example, to execute <tt class="docutils literal"><span class="pre">phpapp::appsetup</span></tt> , set <tt class="docutils literal"><span class="pre">Args</span></tt> to <tt class="docutils literal"><span class="pre">{"recipes":["phpapp::appsetup"]}</span></tt> .</li>
<li>
<tt class="docutils literal"><span class="pre">install_dependencies</span></tt> : Install the stack's dependencies.</li>
<li>
<tt class="docutils literal"><span class="pre">update_custom_cookbooks</span></tt> : Update the stack's custom cookbooks.</li>
<li>
<tt class="docutils literal"><span class="pre">update_dependencies</span></tt> : Update the stack's dependencies.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The update_dependencies and install_dependencies commands are supported only for Linux instances. You can run the commands successfully on Windows instances, but they do nothing.</p>
</div>
<p>For apps, the following commands are available:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">deploy</span></tt> : Deploy an app. Ruby on Rails apps have an optional <tt class="docutils literal"><span class="pre">Args</span></tt> parameter named <tt class="docutils literal"><span class="pre">migrate</span></tt> . Set <tt class="docutils literal"><span class="pre">Args</span></tt> to {"migrate":["true"]} to migrate the database. The default setting is {"migrate":["false"]}.</li>
<li>
<tt class="docutils literal"><span class="pre">rollback</span></tt> Roll the app back to the previous version. When you update an app, AWS OpsWorks Stacks stores the previous version, up to a maximum of five versions. You can use this command to roll an app back as many as four versions.</li>
<li>
<tt class="docutils literal"><span class="pre">start</span></tt> : Start the app's web or application server.</li>
<li>
<tt class="docutils literal"><span class="pre">stop</span></tt> : Stop the app's web or application server.</li>
<li>
<tt class="docutils literal"><span class="pre">restart</span></tt> : Restart the app's web or application server.</li>
<li>
<tt class="docutils literal"><span class="pre">undeploy</span></tt> : Undeploy the app.</li>
</ul>
</div>
</blockquote>
<p>Args -&gt; (map)</p>
<blockquote>
<div>
<p>The arguments of those commands that take arguments. It should be set to a JSON object with the following format:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">{"arg_name1"</span> <span class="pre">:</span> <span class="pre">["value1",</span> <span class="pre">"value2",</span> <span class="pre">...],</span> <span class="pre">"arg_name2"</span> <span class="pre">:</span> <span class="pre">["value1",</span> <span class="pre">"value2",</span> <span class="pre">...],</span> <span class="pre">...}</span></tt></div>
</blockquote>
<p>The <tt class="docutils literal"><span class="pre">update_dependencies</span></tt> command takes two arguments:</p>
<ul class="simple">
<li>
<tt class="docutils literal"><span class="pre">upgrade_os_to</span></tt> - Specifies the desired Amazon Linux version for instances whose OS you want to upgrade, such as <tt class="docutils literal"><span class="pre">Amazon</span> <span class="pre">Linux</span> <span class="pre">2016.09</span></tt> . You must also set the <tt class="docutils literal"><span class="pre">allow_reboot</span></tt> argument to true.</li>
<li>
<tt class="docutils literal"><span class="pre">allow_reboot</span></tt> - Specifies whether to allow AWS OpsWorks Stacks to reboot the instances if necessary, after installing the updates. This argument can be set to either <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt> . The default value is <tt class="docutils literal"><span class="pre">false</span></tt> .</li>
</ul>
<p>For example, to upgrade an instance to Amazon Linux 2016.09, set <tt class="docutils literal"><span class="pre">Args</span></tt> to the following.</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">{</span> <span class="pre">"upgrade_os_to":["Amazon</span> <span class="pre">Linux</span> <span class="pre">2016.09"],</span> <span class="pre">"allow_reboot":["true"]</span> <span class="pre">}</span></tt></div>
</blockquote>
<p>key -&gt; (string)</p>
<p>value -&gt; (list)</p>
<blockquote>
<div>(string)</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
<p>Status -&gt; (string)</p>
<blockquote>
<div>
<p>The deployment status:</p>
<ul class="simple">
<li>running</li>
<li>successful</li>
<li>failed</li>
</ul>
</div>
</blockquote>
<p>CustomJson -&gt; (string)</p>
<blockquote>
<div>
<p>A string that contains user-defined custom JSON. It can be used to override the corresponding default stack configuration attribute values for stack or to pass data to recipes. The string should be in the following format:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">"{\"key1\":</span> <span class="pre">\"value1\",</span> <span class="pre">\"key2\":</span> <span class="pre">\"value2\",...}"</span></tt></div>
</blockquote>
<p>For more information on custom JSON, see <a class="reference external" href="https://docs.aws.amazon.com/opsworks/latest/userguide/workingstacks-json.html">Use Custom JSON to Modify the Stack Configuration Attributes</a> .</p>
</div>
</blockquote>
<p>InstanceIds -&gt; (list)</p>
<blockquote>
<div>
<p>The IDs of the target instances.</p>
<p>(string)</p>
</div>
</blockquote>
</div>
</blockquote>
</div>
</blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    
  

    </div>
  <script type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js"></script>
  <script type="text/javascript">
  s.prop66 = 'AWS CLI';
  s.eVar66 = 'D=c66';
  s.prop65 = 'API Reference';
  s.eVar65 = 'D=c65';
  var s_code = s.t();
  if (s_code) document.write(s_code);
  </script>
    
  



  
    
  
  </body>
</html>
